{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/glb-generator/index.js","webpack:///./src/glb-generator/js/_web3d.js","webpack:///./src/glb-generator/js/index.js","webpack:///./src/glb-generator/js/web3d/_obj3d.js","webpack:///./src/glb-generator/scss/index.scss","webpack:///./src/setup/config.js"],"names":["web3d","scene","camera","renderer","controls","hemiLight","dirLight","obj_ground","cube_test","obj_asset1","obj_asset2","obj_asset3","metadata","dna","name","description","image","date","attributes","debug","helper","el","$","setuprgbe","options","RGBELoader","setPath","load","texture","mapping","THREE","background","environment","render","loader","GLTFLoader","gltf","add","setupEnvironment","defaults","settings","extend","innerWidth","domElement","position","set","setHSL","fog","color","groundColor","hemiLightHelper","multiplyScalar","castShadow","shadow","mapSize","width","height","d","left","right","top","bottom","far","bias","dirLightHelper","setupDom","setSize","get","appendChild","setupPostRender","animate","addEventListener","console","log","update","genMetadata","head","body","asset","Date","now","toLocaleString","push","trait_type","value","length","parseMetadata","JSON","stringify","html","loadObj3d","hasClass","addClass","obj3d","cleanUp","loadModel","removeClass","init","addGround","requestAnimationFrame","controlButtons","window","generateObj3d","generatePossibility","pickMeARandomSet","exportMetadataAsJSON","switchDisplay","attrBody","attr","attrHead","attrAsset","on","empty","possibility","each","radioId","possibilityTotal","i_body","n_body","i_head","n_head","i_asset","n_asset","append","selectBody","selectHead","selectAsset","prop","total","parseInt","randomItemId","Math","floor","random","eq","trigger","jsonData","parse","jsonHtml","fileName","download","content","contentType","a","document","createElement","file","Blob","type","href","URL","createObjectURL","click","meshs","i","children","obj","indexOf","remove","geometry","material","depthWrite","mesh","rotation","x","PI","receiveShadow","path_to_model","model","Promise","resolve","reject","traverse","object","isMesh","undefined","error","config","widthTriggerScale","widthDesktopSafe","widthDesktop","widthMobile","heightDesktop","heightMobile","func","isMobile","device","innerHeight"],"mappings":"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","file":"glb-generator.bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"main\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"0\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import \"./js/index.js\";\nimport \"./scss/index.scss\";","import * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/js/controls/OrbitControls';\nimport { LightProbeGenerator } from 'three/examples/js/lights/LightProbeGenerator';\nimport { RGBELoader } from 'three/examples/js/loaders/RGBELoader.js';\n\n// var OrbitControls = require('three/examples/js/controls/OrbitControls'),\n//     LightProbeGenerator = require('three/examples/js/lights/LightProbeGenerator');\n\n\n// import simple_geometry_obj from \"./web3d/_test\";\nimport obj3d from \"./web3d/_obj3d\";\n\n// ROOT\nvar web3d;\nvar scene,\n    camera,\n    renderer,\n    controls; \n\nvar hemiLight,\n    dirLight;\n\n// Object 3D\nvar obj_ground,\n    cube_test,\n    obj_asset1,\n    obj_asset2,\n    obj_asset3;\n\nvar metadata = {\n    dna: \"n/a\",\n    name: \"n/a\",\n    description: \"n/a\",\n    image: \"n/a\",\n    date: \"\",\n    attributes: []\n}\n\nweb3d = {\n    debug: false,\n    helper: true,\n    el: {\n        renderer: $(\"#rendered_threed\")\n    },\n    setuprgbe: function(options) {\n\n        new RGBELoader()\n            .setPath( 'textures/equirectangular/' )\n            .load( 'royal_esplanade_1k.hdr', function ( texture ) {\n\n                texture.mapping = THREE.EquirectangularReflectionMapping;\n\n                scene.background = texture;\n                scene.environment = texture;\n\n                render();\n\n                // model\n\n                const loader = new GLTFLoader().setPath( 'models/gltf/DamagedHelmet/glTF/' );\n                loader.load( 'DamagedHelmet.gltf', function ( gltf ) {\n\n                    scene.add( gltf.scene );\n\n                    render();\n\n                } );\n\n            } );\n\n    },\n    setupEnvironment: function(options){\n        var defaults = {\n            hemiLight: true,\n            dirLight: true\n        }\n        var settings = $.extend(defaults, options);\n\n\n        scene = new THREE.Scene();\n        camera = new THREE.PerspectiveCamera( \n            75, \n            web3d.el.renderer.innerWidth() / web3d.el.renderer.innerWidth(), \n            0.1, \n            1000 );\n        renderer = new THREE.WebGLRenderer();\n        controls = new THREE.OrbitControls( camera, renderer.domElement );\n        camera.position.set(2, 4, 3.7);\n        scene.background = new THREE.Color().setHSL( 0.6, 0, 1 );\n        scene.fog = new THREE.Fog( scene.background, 1, 5000 );\n\n\n        hemiLight = new THREE.HemisphereLight( 0xffffff, 0xffffff, 0.6 );\n        hemiLight.color.setHSL( 0.6, 1, 0.6 );\n        hemiLight.groundColor.setHSL( 0.095, 1, 0.75 );\n        hemiLight.position.set( 0, 50, 0 );\n        if (settings.hemiLight) {\n            scene.add( hemiLight );\n        }\n\n        if (settings.hemiLight && web3d.helper) {\n            const hemiLightHelper = new THREE.HemisphereLightHelper( hemiLight, 10 );\n            scene.add( hemiLightHelper );\n        }\n\n        //\n\n        dirLight = new THREE.DirectionalLight( 0xffffff, .8 );\n        dirLight.color.setHSL( 0.1, 1, 0.95 );\n        dirLight.position.set( - 1, 1.75, 1 );\n        dirLight.position.multiplyScalar( 30 );\n        if (settings.dirLight) {\n            scene.add( dirLight );\n        }\n\n        dirLight.castShadow = true;\n\n        dirLight.shadow.mapSize.width = 2048;\n        dirLight.shadow.mapSize.height = 2048;\n\n        const d = 50;\n\n        dirLight.shadow.camera.left = - d;\n        dirLight.shadow.camera.right = d;\n        dirLight.shadow.camera.top = d;\n        dirLight.shadow.camera.bottom = - d;\n\n        dirLight.shadow.camera.far = 3500;\n        dirLight.shadow.bias = - 0.0001;\n\n        if (settings.dirLight && web3d.helper) {\n            const dirLightHelper = new THREE.DirectionalLightHelper( dirLight, 10 );\n            scene.add( dirLightHelper );\n        }\n\n    },\n    setupDom: function(options) {\n        var defaults = {\n        }\n        var settings = $.extend(defaults, options);\n\n        renderer.setSize( web3d.el.renderer.innerWidth(), web3d.el.renderer.innerWidth() );\n        web3d.el.renderer.get(0).appendChild( renderer.domElement );\n\n    },\n    setupPostRender: function(options){\n        var defaults = {\n        }\n        var settings = $.extend(defaults, options);\n\n        // re-render\n        web3d.animate(renderer, scene, camera);\n        controls.addEventListener( 'change', function () {\n            web3d.render();\n            if (web3d.debug) {\n                console.log(camera.position);\n            }\n        } );\n        // camera.position.set( 0, 20, 100 );\n        controls.update();\n    },\n    genMetadata: function(options) {\n        var defaults = {\n            head: \"\",\n            body: \"\",\n            asset: \"\"\n        }\n        var settings = $.extend(defaults, options);\n\n        metadata.dna = Date.now();\n        metadata.date = new Date().toLocaleString();\n        metadata.attributes = [];\n        metadata.attributes.push(\n            {\n                trait_type: \"Body\",\n                value: settings.body\n            },\n            {\n                trait_type: \"Head\",\n                value: settings.head\n            },\n            {\n                trait_type: \"Asset\",\n                value: settings.asset\n            }\n        );\n\n        if ($(\"#metadata\").length > 0) {\n\n            var parseMetadata = JSON.stringify(metadata, null, 2);\n            $(\"#metadata\").html(parseMetadata);\n        }\n    },\n    loadObj3d: async function(options) {\n        var defaults = {\n            head: \"\",\n            body: \"\",\n            asset: \"\"\n        }\n        var settings = $.extend(defaults, options);\n\n        if ($(web3d.el.renderer).hasClass(\"active\")) {\n            $(web3d.el.renderer.addClass(\"loading\"));\n            obj3d.cleanUp(scene, camera);\n            obj_asset1 = await obj3d.loadModel(scene, camera, settings.body, \"obj3d_body\");\n            obj_asset2 = await obj3d.loadModel(scene, camera, settings.head, \"obj3d_head\");\n            obj_asset3 = await obj3d.loadModel(scene, camera, settings.asset, \"obj3d_asset\");\n            $(web3d.el.renderer.removeClass(\"loading\"));\n        }\n\n\n        // console.log(obj_asset3);\n        web3d.genMetadata(settings);\n\n    },\n    init: function(){\n        web3d.setupEnvironment({\n            hemiLight: true,\n            dirLight: true\n        });\n        web3d.setupDom();\n\n        obj_ground = obj3d.addGround(scene, camera);\n\n        web3d.setupPostRender();\n    },\n    render: function() {\n        renderer.render( scene, camera );\n    },\n    animate: function() {\n        if (web3d.debug) {\n            console.log(\"DEBUG: re-rendered\");\n        }\n        // obj_asset.rotation.x += 0.05;\n        // obj_asset.rotation.y += 0.05;\n        requestAnimationFrame( web3d.animate );\n        web3d.render();\n    }\n}\n\nexport default web3d;","import config from \"../../setup/config\";\nimport bootstrap from 'bootstrap';\nimport web3d from \"./_web3d\";\n\n$(function () {\n    web3d.init();\n    controlButtons();\n \n});\n\nwindow.addEventListener(\"load\", function(){\n    generateObj3d();\n    generatePossibility();\n    pickMeARandomSet();\n    exportMetadataAsJSON();\n    switchDisplay();\n});\n\n\nvar generateObj3d = function(){\n    var attrBody = $('input[name=\"selectBody\"]:checked').attr(\"value\"),\n        attrHead = $('input[name=\"selectHead\"]:checked').attr(\"value\"),\n        attrAsset = $('input[name=\"selectAsset\"]:checked').attr(\"value\");\n    web3d.loadObj3d({\n        head: attrHead,\n        body: attrBody,\n        asset: attrAsset\n    });\n}\n\nvar controlButtons = function() {\n    if (\n        $('input[name=\"selectBody\"]').length > 0 &&\n        $('input[name=\"selectHead\"]').length > 0 &&\n        $('input[name=\"selectAsset\"]').length > 0\n    ) {\n        $('input[name=\"selectBody\"], input[name=\"selectHead\"], input[name=\"selectAsset\"]').on(\"change\", function(){\n            generateObj3d();\n        });\n    }\n}\n\nvar generatePossibility = function() {\n    if ($(\"#possibilityList\").length > 0) {\n        $(\"#possibilityList\").empty();\n\n        var possibility = {\n            \"Body\" : [],\n            \"Head\" : [],\n            \"Asset\" : []\n        };\n\n        if ($('.btn-group[aria-label=\"Body\"]').length > 0) {\n            $('.btn-group[aria-label=\"Body\"] input[type=\"radio\"]').each(function(){\n                let radioId = $(this).attr(\"id\")\n                possibility[\"Body\"].push(radioId);\n            })\n        }\n\n        if ($('.btn-group[aria-label=\"Head\"]').length > 0) {\n            $('.btn-group[aria-label=\"Head\"] input[type=\"radio\"]').each(function(){\n                let radioId = $(this).attr(\"id\")\n                possibility[\"Head\"].push(radioId);\n            })\n        }\n\n        if ($('.btn-group[aria-label=\"Asset\"]').length > 0) {\n            $('.btn-group[aria-label=\"Asset\"] input[type=\"radio\"]').each(function(){\n                let radioId = $(this).attr(\"id\")\n                possibility[\"Asset\"].push(radioId);\n            })\n        }\n\n        // console.log(possibility);\n\n        var possibilityTotal = possibility[\"Body\"].length * possibility[\"Head\"].length * possibility[\"Asset\"].length;\n\n        if ($(\"#possibilityTotal\").length > 0) {\n            $(\"#possibilityTotal\").html(possibilityTotal);\n        }\n\n        for (let i_body = 0, n_body = possibility[\"Body\"].length; i_body < n_body; i_body++) {\n            for (let i_head = 0, n_head = possibility[\"Head\"].length; i_head < n_head; i_head++) {\n                for (let i_asset = 0, n_asset = possibility[\"Asset\"].length; i_asset < n_asset; i_asset++) {\n                    $(\"#possibilityList\").append(`    \n\t\t\t\t\t\t<div class=\"col-3\">\n                            <button \n                                type=\"button\" \n                                class=\"btn btn-secondary w-100 possibilityItem\"\n                                data-objthreed-body=\"#${possibility[\"Body\"][i_body]}\"\n                                data-objthreed-head=\"#${possibility[\"Head\"][i_head]}\"\n                                data-objthreed-asset=\"#${possibility[\"Asset\"][i_asset]}\"\n                            >${i_body + 1}_${i_head + 1}_${i_asset + 1}</button>\n                        </div>\n                    `);\n                }\n            }\n        }\n\n        $(\"#possibilityList\").on(\"click\", \".possibilityItem\", function(){\n            let selectBody = $(this).attr(\"data-objthreed-body\"), \n                selectHead = $(this).attr(\"data-objthreed-head\"), \n                selectAsset = $(this).attr(\"data-objthreed-asset\");\n\n            console.log(selectBody, selectHead, selectAsset);\n\n            $(selectBody).prop(\"checked\", true);\n            $(selectHead).prop(\"checked\", true);\n            $(selectAsset).prop(\"checked\", true);\n\n            generateObj3d();\n        })\n    }\n}\n\nvar pickMeARandomSet = function() {\n    if ($(\"#pickMeARandomSet\").length > 0) {\n        $(\"#pickMeARandomSet\").on(\"click\", function(){\n            let total = parseInt($(\"#possibilityTotal\").html());\n            let randomItemId = Math.floor(Math.random() * total);\n\n            console.log(randomItemId);\n\n            console.log($(\".possibilityItem\").eq(randomItemId).html());\n\n            $(\".possibilityItem\").eq(randomItemId).trigger(\"click\");\n\n        });\n    }\n}\n\nvar exportMetadataAsJSON = function() {\n    if ($(\"#exportMetadataAsJSON\").length > 0) {\n        $(\"#exportMetadataAsJSON\").on(\"click\", function(){\n            var jsonData = JSON.parse($(\"#metadata\").html());\n            var jsonHtml = $(\"#metadata\").html();\n\n            var fileName = \"metadata_\";\n\n            fileName += Date.parse(jsonData.date);\n\n            function download(content, fileName, contentType) {\n                var a = document.createElement(\"a\");\n                var file = new Blob([content], {type: contentType});\n                a.href = URL.createObjectURL(file);\n                a.download = fileName;\n                a.click();\n            }\n            download(jsonHtml, `${fileName}.txt`, 'text/plain');\n\n        });\n    } \n}\n\nvar switchDisplay = function(){\n    if ($(\"#switchDisplay\").length > 0) {\n        $(\"#switchDisplay\").on(\"change\", function(){\n            if ($('#switchDisplay').prop('checked')) {\n                $(\"#rendered_twod\").removeClass(\"active\");\n                $(\"#rendered_threed\").addClass(\"active\");\n                generateObj3d();\n            } else {\n                $(\"#rendered_twod\").addClass(\"active\");\n                $(\"#rendered_threed\").removeClass(\"active\");\n            }\n        });\n    }\n}","import * as THREE from 'three';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\n\nvar obj3d;\n\nvar meshs = [];\n\nobj3d = { \n    cleanUp: function(scene, camera) {\n        for( var i = scene.children.length - 1; i >= 0; i--) { \n            var obj = scene.children[i];\n\n            if ([\"obj3d_body\", \"obj3d_head\", \"obj3d_asset\"].indexOf(obj.name) > -1) {\n                scene.remove(obj); \n            }\n\n       }\n    },\n    addGround: function(scene, camera){\n        const geometry = new THREE.PlaneGeometry( 100, 100 );\n        const material = new THREE.MeshPhongMaterial( { color: 0xffffff, depthWrite: false } );\t\t\t\t\n        \n        material.color.setHSL( 0.095, 1, 0.75 );\n\n        const mesh = new THREE.Mesh( geometry, material );\n\n        mesh.rotation.x = - Math.PI / 2;\n        mesh.receiveShadow = true;\n        scene.add( mesh );\n\n        meshs.push(mesh);\n\n        return mesh;\n    },\n    loadModel: async function(scene, camera, path_to_model, name){\n        \n\n        var model;\n        const loader = new GLTFLoader();\n\n        return new Promise((resolve, reject) => {\n            loader.load( path_to_model, function ( gltf ) {\n\n                // console.log(gltf.scene);\n    \n                model = gltf.scene;\n    \n                model.castShadow = true;\n                model.receiveShadow = true;\n                model.name = name;\n    \n                scene.add( model );\n    \n                model.traverse( function ( object ) {\n    \n                    if ( object.isMesh ) {\n                        object.castShadow = true;\n                        object.receiveShadow = true;\n                    };\n    \n                } );\n    \n                meshs.push(model);\n                // console.log(\"load obj\");\n                resolve(\"loaded obj\");\n            \n            }, undefined, function ( error ) {\n            \n                console.error( error );\n\n                reject(error);\n            \n            } );\n        });\n\n        \n\n\n\n\n    }\n}\n\n\nexport default obj3d;","// extracted by mini-css-extract-plugin\nexport {};","var config = {\n    widthTriggerScale: 9999,\n    widthDesktopSafe: 1620,\n    widthDesktop: 2000,\n    widthMobile: 768,\n    heightDesktop: 1000,\n    heightMobile: 1000,\n    func: {\n        isMobile: function(){\n            var device = {\n                width: $(window).innerWidth(),\n                height: $(window).innerHeight()\n            };\n\n            return ((device.width <= config.widthMobile) || (device.width < device.height));\n        }\n    }\n}\n\nexport default config;"],"sourceRoot":""}