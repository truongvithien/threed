{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/avatar/index.js","webpack:///./src/avatar/js/avatar/_helper.js","webpack:///./src/avatar/js/avatar/main.js","webpack:///./src/avatar/js/index.js","webpack:///./src/avatar/scss/index.scss","webpack:///./src/setup/config.js"],"names":["helper","create_light","environment_light","options","defaults","enable","dir","hdri_file","enable_background","settings","$","extend","THREE","setPath","load","texture","mapping","scene","background","environment","point_light","debug_color","color","decay","distance","intensity","physically_correct","power","shadow_bias","map_size_width","map_size_height","camera_near","camera_far","position","x","y","z","sphere_light","obj_light","add","castShadow","shadow","bias","set","dir_light","light_dir","setHSL","multiplyScalar","mapSize","width","height","d","camera","left","right","top","bottom","far","web3d","light_dir_helper","amb_light","spot_light","angle","Math","PI","penumbra","cast_shadow","shadow_map_size_width","shadow_map_size_height","shadow_camera_near","shadow_camera_far","shadow_focus","target","near","focus","receiveShadow","lightHelper","shadowCameraHelper","loading","enableLoading","rendered_element","className","addClass","removeClass","clean","avatar","debug","renderer","controls","mixer","light","hemi","key","fill","back","clock","test_background_data","test_background_obj","smt_background_data","smt_background_obj","smt_background_2d","smt_avatar_data","smt_avatar_obj","smt_avatar_2d","starter_background_data","starter_background_obj","starter_background_2d","starter_face_data","starter_face_obj","starter_face_2d","starter_hair_data","starter_hair_obj","starter_hair_2d","starter_outfit_data","starter_outfit_obj","starter_outfit_2d","starter_asset_data","starter_asset_obj","starter_asset_2d","starter_eyewear_data","starter_eyewear_obj","starter_eyewear_2d","_DEFAULT","layered_element","switch_element","asset_dir","scale","smt","st","texture_options","smt_skin","aoMapIntensity","smt_outfit","emissiveIntensity","normalScale","smt_teeth","roughness","smt_hair","aoMap","st_background","st_face","envMapIntensity","st_hair","st_outfit","st_asset","st_eyewear","transparent","model_suffix","twod","texture_suffix","base_color","metallic","normal","ambient_occlusion","emissive","alpha","scattering","thickness","sss","texture_skin_suffix","default_bg","dom_width","dom_height","init","innerWidth","innerHeight","setup","all","post_renderer","helpers","loadSMT","smt_code","empty","append","fbxLoader","FBXLoader","texLoader","Promise","loadAsync","skin_texture","map","metalnessMap","normalMap","roughnessMap","outfit_texture","emissiveMap","action","clipAction","animations","play","texture_skin","texture_outfit","texture_teeth","texture_hair","traverse","o","isMesh","indexOf","name","material","loadST","st_code","obj_st","array_st","split","glbLoader","GLTFLoader","children","background_texture","face_texture","hair_texture","skinin_texture","asset_texture","eyewear_texture","alphaMap","texture_background","console","log","texture_face","texture_skinin","texture_asset","texture_eyewear","loadDefaultBg","lights","fog","antialias","setPixelRatio","window","devicePixelRatio","setSize","shadowMap","enabled","type","domElement","lookAt","minDistance","maxDistance","zoomSpeed","rotateSpeed","enableDamping","enablePan","dampingFactor","autoRotate","autoRotateSpeed","minPolarAngle","maxPolarAngle","ambient_light","hemisphere_light","skyColor","groundColor","directional_light","key_light","fill_light","back_light","top_light","bottom_light","ambient","light_hemi_helper","gridHelper","size","divisions","colorCenterLine","colorGrid","animate","addEventListener","render","update","requestAnimationFrame","delta","getDelta","callback","switch","current_status","freeCamera","Infinity","getCamera","getControls","getObject","obj_name","watch","object_to_watch","endWatch","url","URL","location","href","searchParams","get","length","dim","config","widthTriggerScale","widthDesktopSafe","widthDesktop","widthMobile","heightDesktop","heightMobile","func","isMobile","device"],"mappings":"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","file":"avatar.bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"main\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"0\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import \"./js/index.js\";\r\nimport \"./scss/index.scss\";","import * as THREE from 'three';\r\n\r\nvar helper = {\r\n    create_light: {\r\n        environment_light: function (options) {\r\n            var defaults = {\r\n                enable: true,\r\n                options: {\r\n                    dir: \"assets/hdr/\",\r\n                    hdri_file: \"provence_studio_1k_edit.hdr\",\r\n                    enable_background: false,\r\n                }\r\n            }\r\n            var settings = $.extend(defaults, options);\r\n\r\n            new THREE.RGBELoader()\r\n                .setPath(settings.dir)\r\n                .load(settings.hdri_file, function (texture) {\r\n                    texture.mapping = THREE.EquirectangularReflectionMapping;\r\n                    if (settings.enable_background) {\r\n                        scene.background = texture;\r\n                    }\r\n                    scene.environment = texture;\r\n                });\r\n        },\r\n        point_light: function (options) {\r\n            var defaults = {\r\n                enable: true,\r\n                helper: false,\r\n                options: {\r\n                    debug_color: 0xff0000,\r\n                    color: 0xffffff,\r\n                    decay: 1,\r\n                    distance: 100,\r\n                    intensity: .6,\r\n                    physically_correct: 0.0,\r\n                    power: 0.0,\r\n                    shadow_bias: - 0.01,\r\n                    map_size_width: 1000, \r\n                    map_size_height: 2000, \r\n                    camera_near: 0.5,\r\n                    camera_far: 500,\r\n                    position: {\r\n                        x: 4, y: 4, z: 4\r\n                    }\r\n                }\r\n            }\r\n            var settings = $.extend(defaults, options);\r\n\r\n            var sphere_light = new THREE.SphereGeometry(0.2, 32, 32);\r\n\r\n            if (settings.options) {\r\n                var obj_light = new THREE.PointLight(\r\n                    settings.options.color, \r\n                    settings.options.intensity, \r\n                    settings.options.distance,\r\n                    settings.options.decay,\r\n                    settings.options.physically_correct,\r\n                );\r\n                if (settings.helper) {\r\n                    obj_light.add(new THREE.Mesh(\r\n                        sphere_light, \r\n                        new THREE.MeshBasicMaterial({ color: settings.options.debug_color })\r\n                    ));\r\n                }\r\n                obj_light.castShadow = true;\r\n                obj_light.shadow.bias = settings.options.shadow_bias;\r\n                obj_light.position.set(\r\n                    settings.options.position.x, \r\n                    settings.options.position.y, \r\n                    settings.options.position.z, \r\n                );\r\n    \r\n                return obj_light\r\n            }\r\n\r\n        },\r\n        dir_light: function (options) {\r\n            var defaults = {\r\n                enable: true,\r\n                helper: false,\r\n                options: {\r\n                    debug_color: 0xff0000,\r\n                    color: 0xffffff,\r\n                    decay: 1,\r\n                    distance: 100,\r\n                    intensity: .6,\r\n                    physically_correct: 0.0,\r\n                    power: 0.0,\r\n                    shadow_bias: - 0.01,\r\n                    map_size_width: 1000, \r\n                    map_size_height: 2000, \r\n                    camera_near: 0.5,\r\n                    camera_far: 500,\r\n                    position: {\r\n                        x: 4, y: 4, z: 4\r\n                    }\r\n                }\r\n            }\r\n            var settings = $.extend(defaults, options);\r\n\r\n\r\n            if (settings.enable) {\r\n                light_dir = new THREE.DirectionalLight(0xffffff, .8);\r\n                light_dir.color.setHSL(0.1, 1, 0.95);\r\n                light_dir.position.set(- 1, 1.75, 1);\r\n                light_dir.position.multiplyScalar(100);\r\n                if (settings.light_dir) {\r\n                    scene.add(light_dir);\r\n                }\r\n\r\n                light_dir.castShadow = true;\r\n\r\n                light_dir.shadow.mapSize.width = 2048;\r\n                light_dir.shadow.mapSize.height = 2048;\r\n\r\n                const d = 50;\r\n\r\n                light_dir.shadow.camera.left = - d;\r\n                light_dir.shadow.camera.right = d;\r\n                light_dir.shadow.camera.top = d;\r\n                light_dir.shadow.camera.bottom = - d;\r\n\r\n                light_dir.shadow.camera.far = 3500;\r\n                light_dir.shadow.bias = - 0.0001;\r\n\r\n                if (settings.light_dir && web3d.helper) {\r\n                    const light_dir_helper = new THREE.DirectionalLightHelper(light_dir, 10);\r\n                    scene.add(light_dir_helper);\r\n                }\r\n            }\r\n\r\n        },\r\n        amb_light: function(options) {\r\n            var defaults = {\r\n                enable: true,\r\n                helper: false,\r\n                options: {\r\n                    color: 0x404040,\r\n                    intensity: 0.1\r\n                }\r\n            }\r\n            var settings = $.extend(defaults, options);\r\n\r\n            if (settings.enable) {\r\n                var obj_light = new THREE.AmbientLight(settings.options.color, settings.options.intensity);\r\n                return obj_light;\r\n            }\r\n        },\r\n        spot_light: function (options) {\r\n            var defaults = {\r\n                enable: true,\r\n                helper: false,\r\n                options: {\r\n                    debug_color: 0xff0000,\r\n                    color: 0xffffff,\r\n                    decay: 1,\r\n                    distance: 0,\r\n                    intensity: .6,\r\n                    angle: Math.PI/ 3,\r\n                    penumbra: 0,\r\n                    cast_shadow: true,\r\n                    shadow_map_size_width: 512,\r\n                    shadow_map_size_height: 512,\r\n                    shadow_camera_near: 10,\r\n                    shadow_camera_far: 200,\r\n                    shadow_focus: 1,\r\n                    position: {\r\n                        x: 4, y: 4, z: 4\r\n                    },\r\n                    target: {\r\n                        x: 4, y: 4, z: 4\r\n                    }\r\n                }\r\n            }\r\n            var settings = $.extend(defaults, options);\r\n            \r\n            if (settings.enable) {\r\n                var obj_light = new THREE.SpotLight( \r\n                    settings.options.color,  \r\n                    settings.options.intensity, \r\n                    settings.options.distance, \r\n                    settings.options.angle, \r\n                    settings.options.penumbra,  \r\n                    settings.options.decay\r\n                );\r\n\r\n                obj_light.position.set(\r\n                    settings.options.position.x, \r\n                    settings.options.position.y, \r\n                    settings.options.position.z, \r\n                );\r\n                \r\n                obj_light.angle = settings.options.angle;\r\n                obj_light.penumbra = settings.options.penumbra;\r\n                obj_light.decay = settings.options.decay;\r\n                obj_light.distance = settings.options.distance;\r\n    \r\n                obj_light.castShadow = settings.options.cast_shadow;\r\n                obj_light.shadow.mapSize.width = settings.options.shadow_map_size_width;\r\n                obj_light.shadow.mapSize.height = settings.options.shadow_map_size_height;\r\n                obj_light.shadow.camera.near = settings.options.shadow_camera_near;\r\n                obj_light.shadow.camera.far = settings.options.shadow_camera_far;\r\n                obj_light.shadow.focus = settings.options.shadow_focus;\r\n\r\n                obj_light.receiveShadow = true;\r\n                obj_light.castShadow = true;\r\n\r\n                obj_light.target.position.set(\r\n                    settings.options.target.x, \r\n                    settings.options.target.y, \r\n                    settings.options.target.z\r\n                )\r\n\r\n                // obj_light.target.x =  settings.options.target.x; \r\n                // obj_light.target.y =  settings.options.target.y; \r\n                // obj_light.target.z =  settings.options.target.z; \r\n                //     settings.options.target.y, \r\n                //     settings.options.target.z, \r\n                // ;\r\n\r\n                // console.log(obj_light);\r\n                \r\n                if (settings.helper) {\r\n                    var lightHelper = new THREE.SpotLightHelper( obj_light );\r\n                    var shadowCameraHelper = new THREE.CameraHelper( obj_light.shadow.camera );\r\n                    obj_light.add(lightHelper);\r\n                    obj_light.add(shadowCameraHelper);\r\n                }\r\n\r\n                return obj_light;\r\n    \r\n            }\r\n\r\n\r\n\r\n        }\r\n    },\r\n\r\n    loading: function(enableLoading, options) {\r\n        var defaults = {\r\n            rendered_element: \"#rendered_avatar\",\r\n            className: \"loading\"\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n\r\n        if (enableLoading) {\r\n            $(settings.rendered_element).addClass(settings.className);\r\n        } else {\r\n            $(settings.rendered_element).removeClass(settings.className);\r\n        }\r\n    },\r\n\r\n    clean: function(scene, options) {\r\n        var defaults = {\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n\r\n        // CLEAN 2D\r\n\r\n\r\n        // CLEAN 3D\r\n        \r\n    },\r\n\r\n\r\n\r\n}\r\n\r\nexport default helper;","import * as THREE from 'three';\r\nimport { OrbitControls } from 'three/examples/js/controls/OrbitControls';\r\nimport { LightProbeGenerator } from 'three/examples/js/lights/LightProbeGenerator';\r\n\r\n// LOADER\r\n\r\nimport { RGBELoader } from 'three/examples/js/loaders/RGBELoader.js';\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\r\nimport { FBXLoader } from 'three/examples/jsm/loaders/FBXLoader.js';\r\n\r\n// \r\n\r\nimport helper from \"./_helper\";\r\nimport { TextureLoader } from 'three';\r\n\r\nvar avatar, debug;\r\n\r\nvar scene, camera, renderer, controls, mixer;\r\n\r\nvar light = {\r\n    hemi: {}, dir: {}, key: {}, fill: {},\r\n    back: {}, top: {}, bottom: {}\r\n}\r\n\r\nconst clock = new THREE.Clock();\r\n\r\n// OBJECT 3D\r\n\r\nvar test_background_data, test_background_obj;\r\n\r\nvar smt_background_data, smt_background_obj, smt_background_2d,\r\n    smt_avatar_data, smt_avatar_obj, smt_avatar_2d;\r\n\r\nvar starter_background_data, starter_background_obj, starter_background_2d,\r\n    starter_face_data, starter_face_obj, starter_face_2d,\r\n    starter_hair_data, starter_hair_obj, starter_hair_2d,\r\n    starter_outfit_data, starter_outfit_obj, starter_outfit_2d,\r\n    starter_asset_data, starter_asset_obj, starter_asset_2d,\r\n    starter_eyewear_data, starter_eyewear_obj, starter_eyewear_2d;\r\n\r\n// DEFAULT SETUP \r\n\r\nconst \r\n    _DEFAULT = {\r\n        rendered_element: \"#rendered_avatar\",\r\n        layered_element: \"#layered_avatar\",\r\n        switch_element: \"#switch_avatar\",\r\n        asset_dir: \"assets/avatar/\",\r\n        background: \"assets/bg-default.glb\",\r\n        scale: {\r\n            smt: {x: .1, y: .1, z: .1},\r\n            st: {x: .08, y: .08, z: .08},\r\n        },\r\n        texture_options: {\r\n            smt_skin: {\r\n                aoMapIntensity: .1,\r\n            },\r\n            smt_outfit: {\r\n                aoMapIntensity: .1,\r\n                emissiveIntensity: 2,\r\n                normalScale: new THREE.Vector2(1.5, 1.5)\r\n            },\r\n            smt_teeth: {\r\n                aoMapIntensity: .1,\r\n                emissiveIntensity: 2,\r\n                normalScale: new THREE.Vector2(1.5, 1.5),\r\n                roughness: 3\r\n            },\r\n            smt_hair: {\r\n                aoMap: null,\r\n                aoMapIntensity: .1,\r\n                normalScale: new THREE.Vector2(-1, -1),\r\n                roughness: 1.5\r\n            },\r\n            st_background: {},\r\n            st_face: {\r\n                aoMapIntensity: .1,\r\n                // roughness: .8,\r\n                envMapIntensity: 1,\r\n                // normalMapType: THREE.ObjectSpaceNormalMap\r\n            },\r\n            st_hair: {\r\n                aoMap: null,\r\n                aoMapIntensity: .1,\r\n                normalScale: new THREE.Vector2(.15, .15),\r\n                // roughness: 1.5,\r\n                // envMapIntensity: 1.2\r\n            },\r\n            st_outfit: {\r\n                aoMapIntensity: .1,\r\n                emissiveIntensity: 0,\r\n                normalScale: new THREE.Vector2(1, 1),\r\n                envMapIntensity: .8\r\n                // normalMapType: THREE.ObjectSpaceNormalMap\r\n            },\r\n            st_asset: {\r\n                aoMapIntensity: .1,\r\n                emissiveIntensity: 2,\r\n                normalScale: new THREE.Vector2(1.5, 1.5)\r\n            },\r\n            st_eyewear: {\r\n                aoMapIntensity: .1,\r\n                emissiveIntensity: 2,\r\n                normalScale: new THREE.Vector2(1.5, 1.5),\r\n                transparent: true\r\n            }\r\n        },\r\n        model_suffix: {\r\n            smt: \".fbx\",\r\n            st: \".glb\",\r\n            twod: \".png\"\r\n        },\r\n        texture_suffix: {\r\n            base_color: \"_SHD_BaseColor.png\",\r\n            metallic: \"_SHD_Metallic.png\",\r\n            normal: \"_SHD_Normal.png\",\r\n            roughness: \"_SHD_Roughness.png\",\r\n            ambient_occlusion: \"_SHD_AmbientOcclusion.png\",\r\n            emissive: \"_SHD_Emissive.png\",\r\n            alpha: \"_SHD_Opacity.png\",\r\n\r\n            scattering: \"_SHD_Scattering.png\",\r\n            thickness: \"_SHD_Thickness.png\",\r\n            sss: \"_SHD_SSS.png\"\r\n        },\r\n        texture_skin_suffix: {\r\n            base_color: \"_Skin_SHD_BaseColor.png\",\r\n            metallic: \"_Skin_SHD_Metallic.png\",\r\n            normal: \"_Skin_SHD_Normal.png\",\r\n            roughness: \"_Skin_SHD_Roughness.png\",\r\n            ambient_occlusion: \"_Skin_SHD_AmbientOcclusion.png\",\r\n\r\n            scattering: \"_Skin_SHD_Scattering.png\",\r\n            thickness: \"_Skin_SHD_Thickness.png\",\r\n            sss: \"_Skin_SHD_SSS.png\"\r\n        }\r\n    };\r\n\r\n// MAIN\r\n\r\navatar = {\r\n    rendered_element: _DEFAULT.rendered_element,\r\n    layered_element: _DEFAULT.layered_element,\r\n    switch_element: _DEFAULT.switch_element,\r\n    rendered_element: _DEFAULT.rendered_element,\r\n    layered_element: _DEFAULT.layered_element,\r\n    switch_element: _DEFAULT.switch_element,\r\n    default_bg: _DEFAULT.background,\r\n    \r\n    dom_width: 100,\r\n    dom_height: 100,\r\n    asset_dir: _DEFAULT.asset_dir,\r\n\r\n    init: function(options) {\r\n        var defaults = {\r\n            rendered_element: _DEFAULT.rendered_element,\r\n            layered_element: _DEFAULT.layered_element,\r\n            switch_element: _DEFAULT.switch_element,\r\n            asset_dir: _DEFAULT.asset_dir\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n\r\n        avatar.rendered_element = settings.rendered_element;\r\n        avatar.asset_dir = settings.asset_dir;\r\n        avatar.dom_width = $(avatar.rendered_element).innerWidth();\r\n        avatar.dom_height = $(avatar.rendered_element).innerHeight();\r\n\r\n\r\n        \r\n \r\n\r\n        avatar.setup.all();\r\n        avatar.setup.post_renderer();\r\n        avatar.setup.helpers();\r\n\r\n\r\n\r\n        // helper.setupEnvironment();\r\n    },\r\n\r\n    // =======\r\n\r\n    loadSMT: async function(smt_code, options = {}) {\r\n        var defaults = {\r\n            asset_dir: avatar.asset_dir,\r\n            texture_options: _DEFAULT.texture_options,\r\n            model_suffix: _DEFAULT.model_suffix,\r\n            texture_suffix: _DEFAULT.texture_suffix,\r\n            texture_skin_suffix: _DEFAULT.texture_skin_suffix,\r\n            scale: _DEFAULT.scale.smt\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n\r\n\r\n        // LOAD 2D\r\n        smt_avatar_2d = settings.asset_dir + smt_code + \"/\" + smt_code + settings.model_suffix.twod\r\n\r\n        $(avatar.layered_element).empty();\r\n        $(avatar.layered_element).append(`\r\n            <img src=\"${smt_avatar_2d}\" alt=\"${smt_code}\">\r\n        `);\r\n\r\n        // LOAD 3D\r\n\r\n        const \r\n            fbxLoader = new FBXLoader(),\r\n            texLoader = new THREE.TextureLoader();\r\n\r\n        helper.loading(true, {rendered_element: avatar.rendered_element});\r\n        helper.clean(scene);\r\n        \r\n        [smt_avatar_obj] = await Promise.all([\r\n            fbxLoader.loadAsync(\r\n                settings.asset_dir + smt_code + \"/\" + smt_code + settings.model_suffix.smt\r\n            )\r\n        ]);\r\n\r\n        // LOAD TEXTURE \r\n        const skin_texture = {\r\n            map: texLoader.load(settings.asset_dir + smt_code + \"/\" + smt_code + settings.texture_skin_suffix.base_color),\r\n            metalnessMap: texLoader.load(settings.asset_dir + smt_code + \"/\" + smt_code + settings.texture_skin_suffix.metallic),\r\n            normalMap: texLoader.load(settings.asset_dir + smt_code + \"/\" + smt_code + settings.texture_skin_suffix.normal),\r\n            roughnessMap: texLoader.load(settings.asset_dir + smt_code + \"/\" + smt_code + settings.texture_skin_suffix.roughness),\r\n            aoMap: texLoader.load(settings.asset_dir + smt_code + \"/\" + smt_code + settings.texture_skin_suffix.ambient_occlusion),\r\n        }\r\n        const outfit_texture = {\r\n            map: texLoader.load(settings.asset_dir + smt_code + \"/\" + smt_code + settings.texture_suffix.base_color),\r\n            metalnessMap: texLoader.load(settings.asset_dir + smt_code + \"/\" + smt_code + settings.texture_suffix.metallic),\r\n            normalMap: texLoader.load(settings.asset_dir + smt_code + \"/\" + smt_code + settings.texture_suffix.normal),\r\n            roughnessMap: texLoader.load(settings.asset_dir + smt_code + \"/\" + smt_code + settings.texture_suffix.roughness),\r\n            aoMap: texLoader.load(settings.asset_dir + smt_code + \"/\" + smt_code + settings.texture_suffix.ambient_occlusion),\r\n            emissiveMap: texLoader.load(settings.asset_dir + smt_code + \"/\" + smt_code + settings.texture_suffix.emissive) \r\n        }\r\n\r\n        // LOAD ANIMATION\r\n        mixer = new THREE.AnimationMixer (smt_avatar_obj);\r\n        const action = mixer.clipAction(smt_avatar_obj.animations[ 0 ]);\r\n        action.play();\r\n\r\n        // SCALE, SHADOW, TEXTURE OPTIONS FOR MESHES\r\n        smt_avatar_obj.scale.set(\r\n            settings.scale.x,\r\n            settings.scale.y,\r\n            settings.scale.z,\r\n        );\r\n\r\n        smt_avatar_obj.receiveShadow = true;\r\n        smt_avatar_obj.castShadow = true;\r\n\r\n        var texture_skin = new THREE.MeshStandardMaterial({\r\n            ...skin_texture,\r\n            ...settings.texture_options.smt_skin\r\n        });\r\n        var texture_outfit = new THREE.MeshStandardMaterial({\r\n            ...outfit_texture,\r\n            ...settings.texture_options.smt_outfit\r\n        });\r\n        var texture_teeth = new THREE.MeshStandardMaterial({\r\n            ...outfit_texture,\r\n            ...settings.texture_options.smt_teeth\r\n        });\r\n        var texture_hair = new THREE.MeshStandardMaterial({\r\n            ...outfit_texture,\r\n            ...settings.texture_options.smt_hair\r\n        });\r\n\r\n        smt_avatar_obj.traverse((o) => {\r\n \r\n            if (o.isMesh) {\r\n                o.castShadow = true;\r\n                o.receiveShadow = true;\r\n            }\r\n\r\n            if (o.isMesh && [\"mesh_6\", \"mesh_7\", \"mesh_8\", \"neck_low\", \"hand_low\", \"Face_low\"].indexOf(o.name) > -1) {\r\n                // skin                \r\n                o.material = texture_skin;\r\n            }\r\n            else if (o.isMesh) {\r\n                // outfit\r\n                o.material = texture_outfit;\r\n            } \r\n\r\n            if (o.isMesh && [\"mesh_3\", \"Hair_low\"].indexOf( o.name ) > -1) {\r\n                o.material = texture_hair;\r\n            }\r\n\r\n            if (o.isMesh && o.name == \"Teeth_low\") {\r\n                o.material = texture_teeth;\r\n            }\r\n        });\r\n        \r\n        // ADD SMT OBJ TO SCENE\r\n        scene.add(smt_avatar_obj);\r\n        \r\n        helper.loading(false, {rendered_element: avatar.rendered_element});\r\n\r\n    },\r\n\r\n    loadST: async function(st_code, options) {\r\n        var defaults = {\r\n            asset_dir: avatar.asset_dir,\r\n            texture_options: _DEFAULT.texture_options,\r\n            model_suffix: _DEFAULT.model_suffix,\r\n            texture_suffix: _DEFAULT.texture_suffix,\r\n            texture_skin_suffix: _DEFAULT.texture_skin_suffix,\r\n            scale: _DEFAULT.scale.st\r\n        }\r\n        var settings = $.extend(defaults, options); \r\n\r\n        // st_code job\r\n        // {\r\n        // \t\"hair\": \"HM1\",\r\n        // \t\"eyewear\": \"EM2\",\r\n        // \t\"face\": \"FM3\",\r\n        // \t\"outfit\": \"OM1\",\r\n        // \t\"asset\": \"A2\",\r\n        // \t\"background_text\": \"T6\"\r\n        // }\r\n\r\n        var obj_st = {}  \r\n\r\n        // console.log(typeof st_code);\r\n\r\n        switch (typeof st_code) {\r\n            case \"object\":\r\n                obj_st = st_code;\r\n                break;\r\n            case \"string\":\r\n            default:\r\n                let array_st = st_code.split(\"-\");\r\n                obj_st = {\r\n                    \"hair\": array_st[0],\r\n                    \"eyewear\": array_st[1],\r\n                    \"face\": array_st[2],\r\n                    \"outfit\": array_st[3],\r\n                    \"asset\": array_st[4],\r\n                    \"background_text\": array_st[5]\r\n                }; \r\n                break;\r\n        }\r\n\r\n        // LOAD 2D\r\n        starter_background_2d = settings.asset_dir + obj_st[\"background_text\"] + \"/\" + obj_st[\"background_text\"] + settings.model_suffix.twod;\r\n        starter_face_2d = settings.asset_dir + obj_st[\"face\"] + \"/\" + obj_st[\"face\"] + settings.model_suffix.twod;\r\n        starter_hair_2d = settings.asset_dir + obj_st[\"hair\"] + \"/\" + obj_st[\"hair\"] + settings.model_suffix.twod;\r\n        starter_outfit_2d = settings.asset_dir + obj_st[\"outfit\"] + \"/\" + obj_st[\"outfit\"] + settings.model_suffix.twod;\r\n        starter_asset_2d = settings.asset_dir + obj_st[\"asset\"] + \"/\" + obj_st[\"asset\"] + settings.model_suffix.twod;\r\n        starter_eyewear_2d = settings.asset_dir + obj_st[\"eyewear\"] + \"/\" + obj_st[\"eyewear\"] + settings.model_suffix.twod;\r\n        \r\n        $(avatar.layered_element).empty();\r\n        $(avatar.layered_element).append(`\r\n            <img src=\"${starter_background_2d}\" alt=\"background_text\">\r\n            <img src=\"${starter_face_2d}\" alt=\"face\">\r\n            <img src=\"${starter_hair_2d}\" alt=\"hair\">\r\n            <img src=\"${starter_outfit_2d}\" alt=\"outfit\">\r\n            <img src=\"${starter_asset_2d}\" alt=\"asset\">\r\n            <img src=\"${starter_eyewear_2d}\" alt=\"eyewear\">\r\n        `);\r\n\r\n        // LOAD 3D\r\n        \r\n        const \r\n            glbLoader = new GLTFLoader(),\r\n            texLoader = new THREE.TextureLoader();\r\n\r\n        helper.loading(true, {rendered_element: avatar.rendered_element});\r\n        helper.clean(scene);\r\n        \r\n        [\r\n            starter_background_data,\r\n            starter_face_data, \r\n            starter_hair_data,\r\n            starter_outfit_data,\r\n            starter_asset_data,\r\n            starter_eyewear_data        \r\n        ] = await Promise.all([\r\n            glbLoader.loadAsync(\r\n                settings.asset_dir + obj_st[\"background_text\"] + \"/\" + obj_st[\"background_text\"] + settings.model_suffix.st\r\n            ),\r\n            glbLoader.loadAsync(\r\n                settings.asset_dir + obj_st[\"face\"] + \"/\" + obj_st[\"face\"] + settings.model_suffix.st\r\n            ),\r\n            glbLoader.loadAsync(\r\n                settings.asset_dir + obj_st[\"hair\"] + \"/\" + obj_st[\"hair\"] + settings.model_suffix.st\r\n            ),\r\n            glbLoader.loadAsync(\r\n                settings.asset_dir + obj_st[\"outfit\"] + \"/\" + obj_st[\"outfit\"] + settings.model_suffix.st\r\n            ),\r\n            glbLoader.loadAsync(\r\n                settings.asset_dir + obj_st[\"asset\"] + \"/\" + obj_st[\"asset\"] + settings.model_suffix.st\r\n            ),\r\n            glbLoader.loadAsync(\r\n                settings.asset_dir + obj_st[\"eyewear\"] + \"/\" + obj_st[\"eyewear\"] + settings.model_suffix.st\r\n            ),\r\n        ]);\r\n\r\n        starter_background_obj = starter_background_data.scene.children[0];\r\n        starter_face_obj = starter_face_data.scene.children[0];\r\n        starter_hair_obj = starter_hair_data.scene.children[0];\r\n        starter_outfit_obj = starter_outfit_data.scene.children[0];\r\n        starter_asset_obj = starter_asset_data.scene.children[0];\r\n        starter_eyewear_obj = starter_eyewear_data.scene.children[0];\r\n\r\n        // LOAD TEXTURE\r\n        const background_texture = {\r\n            // map: texLoader.load(settings.asset_dir + obj_st[\"background_text\"] + \"/\" + obj_st[\"background_text\"] + settings.texture_suffix.base_color),\r\n            // metalnessMap: texLoader.load(settings.asset_dir + obj_st[\"background_text\"] + \"/\" + obj_st[\"background_text\"] + settings.texture_suffix.metallic),\r\n            // normalMap: texLoader.load(settings.asset_dir + obj_st[\"background_text\"] + \"/\" + obj_st[\"background_text\"] + settings.texture_suffix.normal),\r\n            // roughnessMap: texLoader.load(settings.asset_dir + obj_st[\"background_text\"] + \"/\" + obj_st[\"background_text\"] + settings.texture_suffix.roughness),\r\n            // aoMap: texLoader.load(settings.asset_dir + obj_st[\"background_text\"] + \"/\" + obj_st[\"background_text\"] + settings.texture_suffix.ambient_occlusion),\r\n        }\r\n        const face_texture = {\r\n            map: texLoader.load(settings.asset_dir + obj_st[\"face\"] + \"/\" + obj_st[\"face\"] + settings.texture_suffix.base_color),\r\n            metalnessMap: texLoader.load(settings.asset_dir + obj_st[\"face\"] + \"/\" + obj_st[\"face\"] + settings.texture_suffix.metallic),\r\n            normalMap: texLoader.load(settings.asset_dir + obj_st[\"face\"] + \"/\" + obj_st[\"face\"] + settings.texture_suffix.normal),\r\n            roughnessMap: texLoader.load(settings.asset_dir + obj_st[\"face\"] + \"/\" + obj_st[\"face\"] + settings.texture_suffix.roughness),\r\n            // aoMap: texLoader.load(settings.asset_dir + obj_st[\"face\"] + \"/\" + obj_st[\"face\"] + settings.texture_suffix.ambient_occlusion),\r\n            // alphaMap: texLoader.load(settings.asset_dir + obj_st[\"face\"] + \"/\" + obj_st[\"face\"] + settings.texture_suffix.alpha),\r\n        }\r\n        const hair_texture = {\r\n            map: texLoader.load(settings.asset_dir + obj_st[\"hair\"] + \"/\" + obj_st[\"hair\"] + settings.texture_suffix.base_color),\r\n            metalnessMap: texLoader.load(settings.asset_dir + obj_st[\"hair\"] + \"/\" + obj_st[\"hair\"] + settings.texture_suffix.metallic),\r\n            normalMap: texLoader.load(settings.asset_dir + obj_st[\"hair\"] + \"/\" + obj_st[\"hair\"] + settings.texture_suffix.normal),\r\n            roughnessMap: texLoader.load(settings.asset_dir + obj_st[\"hair\"] + \"/\" + obj_st[\"hair\"] + settings.texture_suffix.roughness),\r\n            // aoMap: texLoader.load(settings.asset_dir + obj_st[\"hair\"] + \"/\" + obj_st[\"hair\"] + settings.texture_suffix.ambient_occlusion),\r\n            // alphaMap: texLoader.load(settings.asset_dir + obj_st[\"hair\"] + \"/\" + obj_st[\"hair\"] + settings.texture_suffix.alpha),\r\n        }\r\n        const outfit_texture = {\r\n            map: texLoader.load(settings.asset_dir + obj_st[\"outfit\"] + \"/\" + obj_st[\"outfit\"] + settings.texture_suffix.base_color),\r\n            metalnessMap: texLoader.load(settings.asset_dir + obj_st[\"outfit\"] + \"/\" + obj_st[\"outfit\"] + settings.texture_suffix.metallic),\r\n            normalMap: texLoader.load(settings.asset_dir + obj_st[\"outfit\"] + \"/\" + obj_st[\"outfit\"] + settings.texture_suffix.normal),\r\n            roughnessMap: texLoader.load(settings.asset_dir + obj_st[\"outfit\"] + \"/\" + obj_st[\"outfit\"] + settings.texture_suffix.roughness),\r\n            // aoMap: texLoader.load(settings.asset_dir + obj_st[\"outfit\"] + \"/\" + obj_st[\"outfit\"] + settings.texture_suffix.ambient_occlusion),\r\n            // alphaMap: texLoader.load(settings.asset_dir + obj_st[\"outfit\"] + \"/\" + obj_st[\"outfit\"] + settings.texture_suffix.alpha),\r\n        }\r\n        // outfit_texture.map.encoding = THREE.sRGBEncoding;\r\n\r\n        // skin in outfit\r\n        const skinin_texture = {\r\n            map: texLoader.load(settings.asset_dir + \"Bodybase/Bodybase\" + settings.texture_suffix.base_color),\r\n            metalnessMap: texLoader.load(settings.asset_dir + \"Bodybase/Bodybase\" + settings.texture_suffix.metallic),\r\n            normalMap: texLoader.load(settings.asset_dir + \"Bodybase/Bodybase\" + settings.texture_suffix.normal),\r\n            roughnessMap: texLoader.load(settings.asset_dir + \"Bodybase/Bodybase\" + settings.texture_suffix.roughness),\r\n            // aoMap: texLoader.load(settings.asset_dir + obj_st[\"outfit\"] + \"/\" + obj_st[\"outfit\"] + settings.texture_suffix.ambient_occlusion),\r\n            // alphaMap: texLoader.load(settings.asset_dir + obj_st[\"outfit\"] + \"/\" + obj_st[\"outfit\"] + settings.texture_suffix.alpha),\r\n        }\r\n        const asset_texture = {\r\n            map: texLoader.load(settings.asset_dir + obj_st[\"asset\"] + \"/\" + obj_st[\"asset\"] + settings.texture_suffix.base_color),\r\n            metalnessMap: texLoader.load(settings.asset_dir + obj_st[\"asset\"] + \"/\" + obj_st[\"asset\"] + settings.texture_suffix.metallic),\r\n            normalMap: texLoader.load(settings.asset_dir + obj_st[\"asset\"] + \"/\" + obj_st[\"asset\"] + settings.texture_suffix.normal),\r\n            roughnessMap: texLoader.load(settings.asset_dir + obj_st[\"asset\"] + \"/\" + obj_st[\"asset\"] + settings.texture_suffix.roughness),\r\n            // aoMap: texLoader.load(settings.asset_dir + obj_st[\"asset\"] + \"/\" + obj_st[\"asset\"] + settings.texture_suffix.ambient_occlusion),\r\n            // alphaMap: texLoader.load(settings.asset_dir + obj_st[\"asset\"] + \"/\" + obj_st[\"asset\"] + settings.texture_suffix.alpha),\r\n        }\r\n        const eyewear_texture = {\r\n            map: texLoader.load(settings.asset_dir + obj_st[\"eyewear\"] + \"/\" + obj_st[\"eyewear\"] + settings.texture_suffix.base_color),\r\n            metalnessMap: texLoader.load(settings.asset_dir + obj_st[\"eyewear\"] + \"/\" + obj_st[\"eyewear\"] + settings.texture_suffix.metallic),\r\n            normalMap: texLoader.load(settings.asset_dir + obj_st[\"eyewear\"] + \"/\" + obj_st[\"eyewear\"] + settings.texture_suffix.normal),\r\n            roughnessMap: texLoader.load(settings.asset_dir + obj_st[\"eyewear\"] + \"/\" + obj_st[\"eyewear\"] + settings.texture_suffix.roughness),\r\n            // aoMap: texLoader.load(settings.asset_dir + obj_st[\"eyewear\"] + \"/\" + obj_st[\"eyewear\"] + settings.texture_suffix.ambient_occlusion),\r\n            alphaMap: texLoader.load(settings.asset_dir + obj_st[\"eyewear\"] + \"/\" + obj_st[\"eyewear\"] + settings.texture_suffix.alpha),\r\n        }\r\n\r\n        // SCALE, SHADOW, TEXTURE OPTIONS FOR MESHES\r\n        starter_background_obj.scale.set(\r\n            settings.scale.x,\r\n            settings.scale.y,\r\n            settings.scale.z,\r\n        );\r\n        starter_background_obj.receiveShadow = true;\r\n        starter_background_obj.castShadow = true;\r\n        var texture_background = new THREE.MeshStandardMaterial({\r\n            ...background_texture,\r\n            ...settings.texture_options.st_background\r\n        });\r\n        starter_background_obj.traverse((o) => {\r\n            if (o.isMesh) {\r\n                o.castShadow = true;\r\n                o.receiveShadow = true;\r\n                o.material = texture_background;\r\n            }\r\n        });\r\n        console.log(\"BG/Text: \");\r\n        console.log(starter_background_obj);\r\n        //---\r\n        starter_face_obj.scale.set(\r\n            settings.scale.x,\r\n            settings.scale.y,\r\n            settings.scale.z,\r\n        );\r\n        starter_face_obj.receiveShadow = true;\r\n        starter_face_obj.castShadow = true;\r\n        var texture_face = new THREE.MeshStandardMaterial({\r\n            ...face_texture,\r\n            ...settings.texture_options.st_face\r\n        });\r\n        starter_face_obj.traverse((o) => {\r\n            if (o.isMesh) {\r\n                o.castShadow = true;\r\n                o.receiveShadow = true;\r\n                o.material = texture_face;\r\n            }\r\n        });\r\n        console.log(\"Face: \");\r\n        console.log(starter_face_obj);\r\n        //--- \r\n        starter_hair_obj.scale.set(\r\n            settings.scale.x,\r\n            settings.scale.y,\r\n            settings.scale.z,\r\n        );\r\n        starter_hair_obj.receiveShadow = true;\r\n        starter_hair_obj.castShadow = true;\r\n        var texture_hair = new THREE.MeshStandardMaterial({\r\n            ...hair_texture,\r\n            ...settings.texture_options.st_hair\r\n        });\r\n        starter_hair_obj.traverse((o) => {\r\n            if (o.isMesh) {\r\n                o.castShadow = true;\r\n                o.receiveShadow = true;\r\n                o.material = texture_hair;\r\n            }\r\n        });\r\n        console.log(\"Hair: \");\r\n        console.log(starter_hair_obj);\r\n        //---\r\n        starter_outfit_obj.scale.set(\r\n            settings.scale.x,\r\n            settings.scale.y,\r\n            settings.scale.z,\r\n        );\r\n        starter_outfit_obj.receiveShadow = true;\r\n        starter_outfit_obj.castShadow = true;\r\n        var texture_outfit = new THREE.MeshStandardMaterial({\r\n            ...outfit_texture,\r\n            ...settings.texture_options.st_outfit\r\n        });\r\n        var texture_skinin = new THREE.MeshStandardMaterial({\r\n            ...skinin_texture,\r\n            ...settings.texture_options.st_face\r\n        });\r\n        starter_outfit_obj.children[1].traverse((o) => {\r\n            if (o.isMesh) {\r\n                o.castShadow = true;\r\n                o.receiveShadow = true;\r\n                o.material = texture_outfit;\r\n            }\r\n        });\r\n        starter_outfit_obj.children[0].traverse((o) => {\r\n            if (o.isMesh) {\r\n                o.castShadow = true;\r\n                o.receiveShadow = true;\r\n                o.material = texture_skinin;\r\n            }\r\n        });\r\n        console.log(\"Outfit: \");\r\n        console.log(starter_outfit_obj);\r\n        //---\r\n        starter_asset_obj.scale.set(\r\n            settings.scale.x,\r\n            settings.scale.y,\r\n            settings.scale.z,\r\n        );\r\n        starter_asset_obj.receiveShadow = true;\r\n        starter_asset_obj.castShadow = true;\r\n        var texture_asset = new THREE.MeshStandardMaterial({\r\n            ...asset_texture,\r\n            ...settings.texture_options.st_asset\r\n        });\r\n        var texture_skinin = new THREE.MeshStandardMaterial({\r\n            ...skinin_texture,\r\n            ...settings.texture_options.st_face\r\n        });\r\n        starter_asset_obj.traverse((o) => {\r\n            if (o.isMesh && [\"mesh_1\"].indexOf(o.name) > -1) {\r\n                o.castShadow = true;\r\n                o.receiveShadow = true;\r\n                o.material = texture_asset;\r\n            } else {\r\n                o.castShadow = true;\r\n                o.receiveShadow = true;\r\n                o.material = texture_skinin;\r\n            }\r\n        });\r\n        console.log(\"Asset: \");\r\n        console.log(starter_asset_obj);\r\n        //---\r\n        starter_eyewear_obj.scale.set(\r\n            settings.scale.x,\r\n            settings.scale.y,\r\n            settings.scale.z,\r\n        );\r\n        starter_eyewear_obj.receiveShadow = true;\r\n        starter_eyewear_obj.castShadow = true;\r\n        var texture_eyewear = new THREE.MeshStandardMaterial({\r\n            ...eyewear_texture,\r\n            ...settings.texture_options.st_eyewear\r\n        });\r\n        starter_eyewear_obj.traverse((o) => {\r\n            if (o.isMesh) {\r\n                o.castShadow = true;\r\n                o.receiveShadow = true;\r\n                o.material = texture_eyewear;\r\n            }\r\n        });\r\n        console.log(\"Eyewear: \");\r\n        console.log(starter_eyewear_obj);\r\n        \r\n        // ADD ST OBJ TO SCENE\r\n        scene.add(starter_background_obj);\r\n        scene.add(starter_face_obj);\r\n        scene.add(starter_hair_obj);\r\n        scene.add(starter_outfit_obj);\r\n        scene.add(starter_asset_obj);\r\n        scene.add(starter_eyewear_obj);\r\n\r\n        helper.loading(false, {rendered_element: avatar.rendered_element});\r\n\r\n    },\r\n\r\n    // ========\r\n\r\n    loadDefaultBg: async function (options) {\r\n        var defaults = {\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n\r\n        const glbLoader = new GLTFLoader();\r\n\r\n        [test_background_data] = await Promise.all([\r\n            glbLoader.loadAsync(avatar.default_bg)\r\n        ]);\r\n\r\n        test_background_obj = test_background_data.scene.children[0];\r\n        scene.add(test_background_obj);\r\n\r\n        test_background_obj.receiveShadow = false;\r\n        test_background_obj.castShadow = true;\r\n\r\n        test_background_obj.scale.set(10, 10, 10);\r\n        test_background_obj.position.set(0, 5, 0);\r\n        // test_background_obj.material = new THREE.MeshLambertMaterial({\r\n        //     emissive: 0x593b00,\r\n        //     emissiveIntensity: .8\r\n        // });\r\n        test_background_obj.material = new THREE.MeshLambertMaterial({\r\n            color: 0x0083ad,\r\n            emissive: 0x0083ad,\r\n            emissiveIntensity: 1\r\n        });\r\n\r\n        // const box_helper = new THREE.BoxHelper( obj_bg, 0xffff00 );\r\n        // scene.add(box_helper);\r\n\r\n        console.log(test_background_obj);\r\n    },\r\n\r\n    // ========\r\n\r\n    setup: {\r\n        all: function(options){\r\n            var defaults = {\r\n            }\r\n            var settings = $.extend(defaults, options); \r\n            avatar.setup.scene();\r\n            avatar.setup.camera();\r\n            avatar.setup.renderer();\r\n            avatar.setup.controls();\r\n            avatar.setup.lights();\r\n        },\r\n        scene: function(options) {\r\n            var defaults = {\r\n            }\r\n            var settings = $.extend(defaults, options);\r\n\r\n            scene = new THREE.Scene();\r\n            scene.background = new THREE.Color().setHSL(0, 0, 0);\r\n            scene.fog = new THREE.Fog(scene.background, 1, 5000);\r\n        },\r\n        renderer: function(options) {\r\n            var defaults = {\r\n            }\r\n            var settings = $.extend(defaults, options);\r\n            renderer = new THREE.WebGLRenderer({\r\n                antialias: true\r\n            });\r\n            renderer.setPixelRatio( window.devicePixelRatio );\r\n            renderer.setSize(avatar.dom_width, avatar.dom_height);\r\n\r\n            renderer.shadowMap.enabled = true;\r\n            renderer.shadowMap.type = THREE.VSMShadowMap;\r\n            // renderer.toneMapping = THREE.ACESFilmicToneMapping;\r\n            // renderer.gammaOutput = true;\r\n            // renderer.gammaFactor = -.1;\r\n            // renderer.toneMappingExposure = 1.02;\r\n    \r\n            $(avatar.rendered_element).append(renderer.domElement); \r\n        },\r\n        camera: function(options) {\r\n            var defaults = {\r\n            }\r\n            var settings = $.extend(defaults, options);\r\n            camera = new THREE.PerspectiveCamera(\r\n                75,\r\n                avatar.dom_width / avatar.dom_height,\r\n                0.1,\r\n                1000);\r\n            // camera.position.set(2, 4.1, 5.3);\r\n            camera.position.set(0.6, 4.4, 5.9);\r\n            // camera.position.set(15.7, 58.4, 60.5);\r\n            camera.lookAt(0, 10, 0);\r\n        },\r\n        controls: function(options) {\r\n            var defaults = {\r\n                minDistance: 4,\r\n                maxDistance: 9,\r\n                zoomSpeed: 1,\r\n                rotateSpeed: 1,\r\n                enableDamping: true,\r\n                enablePan: false,\r\n                dampingFactor: 0.1,\r\n                autoRotate: true,\r\n                autoRotateSpeed: 0.5,\r\n                minPolarAngle: .8,\r\n                maxPolarAngle: 1.8,\r\n                target: {\r\n                    x: 0, y: 2.3, z: 0\r\n                } \r\n            }\r\n            var settings = $.extend(defaults, options);\r\n    \r\n            controls = new THREE.OrbitControls(camera, renderer.domElement);\r\n            controls.minDistance = settings.minDistance;\r\n            controls.maxDistance = settings.maxDistance;\r\n            controls.zoomSpeed = settings.zoomSpeed;\r\n            controls.rotateSpeed = settings.rotateSpeed;\r\n            controls.enableDamping = settings.enableDamping;\r\n            controls.enablePan = settings.enablePan;\r\n            controls.dampingFactor = settings.dampingFactor;\r\n            controls.autoRotate = settings.autoRotate;\r\n            controls.autoRotateSpeed = settings.autoRotateSpeed;\r\n            controls.minPolarAngle = settings.minPolarAngle;\r\n            controls.maxPolarAngle = settings.maxPolarAngle;\r\n    \r\n            controls.target.set(\r\n                settings.target.x,\r\n                settings.target.y,\r\n                settings.target.z\r\n            );\r\n        },\r\n        lights: function(options) {\r\n            var defaults = {\r\n                environment_light: {\r\n                    enable: true,\r\n                    options: {\r\n                        dir: \"assets/hdr/\",\r\n                        hdri_file: \"provence_studio_1k_edit.hdr\", \r\n                        enable_background: false,\r\n                    }\r\n                },\r\n                ambient_light: {\r\n                    enable: true,\r\n                    options: {\r\n                        color: 0xffffff,\r\n                        intensity: 0\r\n                    }\r\n                },\r\n                hemisphere_light: { \r\n                    enable: false,\r\n                    options: {\r\n                        skyColor: 0xffffff,\r\n                        groundColor: 0xffffff,\r\n                        intensity: 1,\r\n                        position: {\r\n                            x: 0, y: 50, z: 0\r\n                        }\r\n                    }\r\n                },\r\n                directional_light: {\r\n                    enable: false,\r\n                    options: {\r\n                    }\r\n                },\r\n                key_light: {\r\n                    enable: 1,\r\n                    helper: 1,\r\n                    options: {\r\n                        debug_color: 0xff0000,\r\n                        color: 0xffffff,\r\n                        decay: 1,\r\n                        distance: 30,\r\n                        intensity: .95,\r\n                        angle: Math.PI/ 2,\r\n                        penumbra: .8,\r\n                        cast_shadow: true,\r\n                        shadow_map_size_width: 512,\r\n                        shadow_map_size_height: 512,\r\n                        shadow_camera_near: 10,\r\n                        shadow_camera_far: 200,\r\n                        shadow_focus: .2,\r\n                        position: {\r\n                            x: 4, y: 3, z: 4\r\n                        },\r\n                        target: {\r\n                            x: 0, y: 2, z: 0\r\n                        }\r\n                    }\r\n                },\r\n                fill_light: {\r\n                    enable: 1,\r\n                    helper: 1,\r\n                    options: {\r\n                        debug_color: 0xff0000,\r\n                        color: 0xffe0a9,\r\n                        decay: 1,\r\n                        distance: 50,\r\n                        intensity: .5,\r\n                        angle: Math.PI/ 3,\r\n                        penumbra: .8,\r\n                        cast_shadow: true,\r\n                        shadow_map_size_width: 512,\r\n                        shadow_map_size_height: 512,\r\n                        shadow_camera_near: 10,\r\n                        shadow_camera_far: 200,\r\n                        shadow_focus: .2,\r\n                        position: {\r\n                            x: -7, y: 3, z: 6\r\n                        },\r\n                        target: {\r\n                            x: 0, y: 4, z: 0\r\n                        }\r\n                    }\r\n                },\r\n                back_light: {\r\n                    enable: 1,\r\n                    helper: 1,\r\n                    options: {\r\n                        debug_color: 0xff0000,\r\n                        color: 0xffffff,\r\n                        decay: 1,\r\n                        distance: 50,\r\n                        intensity: .9,\r\n                        angle: Math.PI/ 3,\r\n                        penumbra: .8,\r\n                        cast_shadow: true,\r\n                        shadow_map_size_width: 512,\r\n                        shadow_map_size_height: 512,\r\n                        shadow_camera_near: 10,\r\n                        shadow_camera_far: 200,\r\n                        shadow_focus: .2,\r\n                        position: {\r\n                            x: 0, y: 2, z: -4\r\n                        },\r\n                        target: {\r\n                            x: 0, y: 2, z: 0\r\n                        }\r\n                    }\r\n                },\r\n                top_light: {\r\n                    enable: 1,\r\n                    helper: 1,\r\n                    options: {\r\n                        debug_color: 0xff0000,\r\n                        color: 0xffffff,\r\n                        decay: 1,\r\n                        distance: 50,\r\n                        intensity: .4,\r\n                        angle: Math.PI/ 5,\r\n                        penumbra: .8,\r\n                        cast_shadow: true,\r\n                        shadow_map_size_width: 512,\r\n                        shadow_map_size_height: 512,\r\n                        shadow_camera_near: 10,\r\n                        shadow_camera_far: 200,\r\n                        shadow_focus: .2,\r\n                        position: {\r\n                            x: 0, y: 8, z: 3\r\n                        },\r\n                        target: {\r\n                            x: 0, y: 4, z: 1\r\n                        }\r\n                    }\r\n                },\r\n                bottom_light: {\r\n                    enable: 1,\r\n                    helper: 1,\r\n                    options: {\r\n                        debug_color: 0xff0000,\r\n                        color: 0xffffff,\r\n                        decay: 1,\r\n                        distance: 50,\r\n                        intensity: .4,\r\n                        angle: Math.PI/ 3,\r\n                        penumbra: .8,\r\n                        cast_shadow: true,\r\n                        shadow_map_size_width: 512,\r\n                        shadow_map_size_height: 512,\r\n                        shadow_camera_near: 10,\r\n                        shadow_camera_far: 200,\r\n                        shadow_focus: .2,\r\n                        position: {\r\n                            x: 0, y: -1, z: 2\r\n                        },\r\n                        target: {\r\n                            x: 0, y: 3, z: 0\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            var settings = $.extend(defaults, options);\r\n    \r\n            if (settings.environment_light.enable) {\r\n\r\n                new THREE.RGBELoader()\r\n                    .setPath(settings.environment_light.options.dir)\r\n                    .load(settings.environment_light.options.hdri_file, function (texture) {\r\n                        texture.mapping = THREE.EquirectangularReflectionMapping;\r\n                        if (settings.environment_light.options.enable_background) {\r\n                            scene.background = texture;\r\n                        }\r\n                        scene.environment = texture;\r\n                    });\r\n            } \r\n\r\n            // \r\n\r\n            light.ambient = helper.create_light.amb_light(settings.ambient_light);\r\n            if (settings.ambient_light.enable) {\r\n                scene.add(light.ambient);\r\n\r\n            }\r\n            \r\n            \r\n            // helper.create_light.environment_light(settings.environment_light.options);\r\n    \r\n            light.key = helper.create_light.spot_light(settings.key_light);\r\n            if (settings.key_light.enable) {\r\n                scene.add( light.key);\r\n                scene.add( light.key.target );\r\n                if (settings.key_light.helper) {\r\n                    console.log(light.key);\r\n                }\r\n            }\r\n    \r\n            \r\n            light.fill = helper.create_light.spot_light(settings.fill_light);\r\n            if (settings.fill_light.enable) {\r\n                scene.add( light.fill);\r\n                scene.add( light.fill.target );\r\n                if (settings.fill_light.helper) {\r\n                    console.log(light.fill);\r\n                }\r\n            }\r\n            \r\n            light.back = helper.create_light.spot_light(settings.back_light);\r\n            if (settings.back_light.enable) {\r\n                scene.add( light.back);\r\n                scene.add( light.back.target );\r\n                if (settings.back_light.helper) {\r\n                    console.log(light.back);\r\n                }\r\n            }\r\n            \r\n            light.top = helper.create_light.spot_light(settings.top_light);\r\n            if (settings.top_light.enable) {\r\n                scene.add( light.top);\r\n                scene.add( light.top.target );\r\n                if (settings.top_light.helper) {\r\n                    console.log(light.top);\r\n                }\r\n            }\r\n            \r\n            light.bottom = helper.create_light.spot_light(settings.bottom_light);\r\n            if (settings.bottom_light.enable) {\r\n                scene.add( light.bottom);\r\n                scene.add( light.bottom.target );\r\n                if (settings.bottom_light.helper) {\r\n                    console.log(light.bottom);\r\n                }\r\n            }\r\n\r\n            if (settings.hemisphere_light.enable) {\r\n                light.hemi = new THREE.HemisphereLight(0xffffff, 0xffffff, 0.6);\r\n                light.hemi.color.setHSL(0.6, 1, 0.6);\r\n                light.hemi.groundColor.setHSL(0.095, 1, 0.75);\r\n                light.hemi.position.set(0, 50, 0);\r\n                scene.add(light.hemi);\r\n    \r\n                if (avatar.helper) {\r\n                    const light_hemi_helper = new THREE.HemisphereLightHelper(light.hemi, 10);\r\n                    scene.add(light_hemi_helper);\r\n                }\r\n            }\r\n\r\n            // if (settings.ambient_light.enable) {\r\n            //     light.hemi = new THREE.HemisphereLight(0xffffff, 0xffffff, 0.6);\r\n            //     light.hemi.color.setHSL(0.6, 1, 0.6);\r\n            //     light.hemi.groundColor.setHSL(0.095, 1, 0.75);\r\n            //     light.hemi.position.set(0, 50, 0);\r\n            //     scene.add(light.hemi);\r\n    \r\n            //     if (avatar.helper) {\r\n            //         const light_hemi_helper = new THREE.HemisphereLightHelper(light.hemi, 10);\r\n            //         scene.add(light_hemi_helper);\r\n            //     }\r\n            // }\r\n    \r\n            if (settings.directional_light.enable) {\r\n                light.dir = new THREE.DirectionalLight(0xffffff, .8);\r\n                light.dir.color.setHSL(0.1, 1, 0.95);\r\n                light.dir.position.set(- 1, 1.75, 1);\r\n                light.dir.position.multiplyScalar(100);\r\n                if (settings.light.dir) {\r\n                    scene.add(light.dir);\r\n                }\r\n    \r\n                light.dir.castShadow = true;\r\n    \r\n                light.dir.shadow.mapSize.width = 2048;\r\n                light.dir.shadow.mapSize.height = 2048;\r\n    \r\n                const d = 50;\r\n    \r\n                light.dir.shadow.camera.left = - d;\r\n                light.dir.shadow.camera.right = d;\r\n                light.dir.shadow.camera.top = d;\r\n                light.dir.shadow.camera.bottom = - d;\r\n    \r\n                light.dir.shadow.camera.far = 3500;\r\n                light.dir.shadow.bias = - 0.0001;\r\n    \r\n                if (settings.light.dir && avatar.helper) {\r\n                    const light_dir_helper = new THREE.DirectionalLightHelper(light.dir, 10);\r\n                    scene.add(light_dir_helper);\r\n                }\r\n            }\r\n\r\n        },\r\n        helpers: function(options){\r\n            var defaults = {\r\n                gridHelper: {\r\n                    enable: false,\r\n                    size : 100,\r\n                    divisions : 100,\r\n                    colorCenterLine : 0x0000ff,\r\n                    colorGrid : 0x808080\r\n                }\r\n            }\r\n            var settings = $.extend(defaults, options);\r\n    \r\n            if (settings.gridHelper.enable) {\r\n                const gridHelper = new THREE.GridHelper( \r\n                    settings.gridHelper.size ,  \r\n                    settings.gridHelper.divisions ,  \r\n                    settings.gridHelper.colorCenterLine ,  \r\n                    settings.gridHelper.colorGrid ,  \r\n                );\r\n                scene.add( gridHelper );\r\n            }\r\n        },\r\n        post_renderer: function (options) {\r\n            var defaults = {\r\n            }\r\n            var settings = $.extend(defaults, options);\r\n            avatar.setup.animate();\r\n            controls.addEventListener('change', function () {\r\n                avatar.setup.render();\r\n            });\r\n            controls.update();\r\n        },\r\n        render: function(options) {\r\n            var defaults = {\r\n            }\r\n            var settings = $.extend(defaults, options);\r\n            renderer.render(scene, camera);\r\n        },\r\n        animate: function(options) {\r\n            requestAnimationFrame( avatar.setup.animate );\r\n            const delta = clock.getDelta();\r\n    \r\n            // if (obj_text) {\r\n            //     avatar.lookAtObj();\r\n            // }\r\n            if ( mixer ) mixer.update( delta );\r\n    \r\n            avatar.callback();\r\n            avatar.setup.render();\r\n        }\r\n    },\r\n    callback: function(options){\r\n        var defaults = {\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n    },\r\n\r\n    // ======\r\n\r\n    switch: function(current_status, options) {\r\n        var defaults = {\r\n            asset_dir: avatar.asset_dir,\r\n            texture_options: _DEFAULT.texture_options,\r\n            texture_suffix: _DEFAULT.texture_suffix,\r\n            texture_skin_suffix: _DEFAULT.texture_skin_suffix,\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n    }\r\n}\r\n\r\nvar debug = {\r\n    freeCamera: () => {\r\n        controls.minDistance = 0;\r\n        controls.maxDistance = Infinity;\r\n        controls.zoomSpeed = 1;\r\n        controls.rotateSpeed = 1;\r\n        controls.enableDamping = false;\r\n        controls.enablePan = true;\r\n        controls.autoRotate = true;\r\n        controls.autoRotateSpeed = 1;\r\n        controls.maxPolarAngle = Math.PI;\r\n    },\r\n    getCamera: () => camera,\r\n    getControls: () => controls,\r\n    getObject: (obj_name) => {\r\n        switch (obj_name) {\r\n            case 'smt_background_obj': return smt_background_obj;\r\n            case 'smt_avatar_obj': return smt_avatar_obj;\r\n            case 'starter_background_obj': return starter_background_obj;\r\n            case 'starter_face_obj': return starter_face_obj;\r\n            case 'starter_hair_obj': return starter_hair_obj;\r\n            case 'starter_outfit_obj': return starter_outfit_obj;\r\n            case 'starter_asset_obj': return starter_asset_obj;\r\n            case 'starter_eyewear_obj': return starter_eyewear_obj;\r\n            case 'light.hemi': return light.hemi;\r\n            case 'light.dir': return light.dir;\r\n            case 'light.key': return light.key;\r\n            case 'light.fill': return light.fill;\r\n            case 'light.back': return light.back;\r\n            case 'light.top': return light.top;\r\n            case 'light.bottom': return light.bottom;\r\n        }\r\n    },\r\n    watch: (object_to_watch) => {\r\n        avatar.callback = function() {\r\n            console.log(object_to_watch);\r\n        }\r\n        return \"[ debug watch started ]\"\r\n    },\r\n    endWatch: () => {\r\n        avatar.callback = function() {\r\n        }\r\n        return \"[ debug watch ended ]\"\r\n    }\r\n}\r\n\r\n\r\nexport {avatar, debug};","import config from \"../../setup/config\";\r\nimport bootstrap from 'bootstrap';\r\nimport {avatar, debug} from \"./avatar/main\";\r\n\r\n$(function () {\r\n    avatar.init();\r\n\r\n    debug.freeCamera();\r\n});\r\n\r\nwindow.addEventListener(\"load\", function(){\r\n    // avatar.loadSMT(\"SMT1\");\r\n\r\n    var url = new URL(window.location.href);\r\n    var smt_code = url.searchParams.get(\"load_smt\");\r\n    if (typeof smt_code != \"undefined\" && smt_code != null) {\r\n        if (smt_code.length == 0) smt_code = \"SMT1\";\r\n        avatar.loadDefaultBg();\r\n        avatar.loadSMT(smt_code);\r\n    }\r\n\r\n    var st_code = url.searchParams.get(\"load_st\");\r\n    // console.log(st_code);\r\n    if (typeof st_code != \"undefined\" && st_code != null) {\r\n        if (st_code.length == 0) st_code = \"HM3-EM3-FM3-OM2-A1-T3\";\r\n        avatar.loadDefaultBg();\r\n        avatar.loadST(st_code); \r\n    }\r\n\r\n    var dim = url.searchParams.get(\"dim\");\r\n    // console.log(dim);\r\n    switch (dim) {\r\n        case \"2\": \r\n            if ($(\"#layered_avatar\").length > 0) {\r\n                $(\"#layered_avatar\").addClass(\"active\");\r\n            }\r\n            break;\r\n        case \"3\": default: \r\n            if ($(\"#rendered_avatar\").length > 0) {\r\n                $(\"#rendered_avatar\").addClass(\"active\");\r\n            }\r\n            \r\n            break;\r\n    }\r\n});\r\n\r\n \r\nwindow.debug = debug;","// extracted by mini-css-extract-plugin\nexport {};","var config = {\r\n    widthTriggerScale: 9999,\r\n    widthDesktopSafe: 1620,\r\n    widthDesktop: 2000,\r\n    widthMobile: 768,\r\n    heightDesktop: 1000,\r\n    heightMobile: 1000,\r\n    func: {\r\n        isMobile: function(){\r\n            var device = {\r\n                width: $(window).innerWidth(),\r\n                height: $(window).innerHeight()\r\n            };\r\n\r\n            return ((device.width <= config.widthMobile) || (device.width < device.height));\r\n        }\r\n    }\r\n}\r\n\r\nexport default config;"],"sourceRoot":""}