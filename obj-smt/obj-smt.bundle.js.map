{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/obj-smt/index.js","webpack:///./src/obj-smt/js/_web3d.js","webpack:///./src/obj-smt/js/index.js","webpack:///./src/obj-smt/js/web3d/_obj3d.js","webpack:///./src/obj-smt/scss/index.scss","webpack:///./src/setup/config.js"],"names":["web3d","scene","camera","renderer","controls","hemiLight","dirLight","light1","light2","light3","light4","obj_ground","obj_room","cube_test","data_smt_01","obj_smt_01","metadata","dna","name","description","image","date","attributes","debug","helper","el","$","setupRGBE","options","defaults","path","hdriFile","settings","extend","THREE","setPath","load","texture","mapping","background","environment","setupEnvironment","innerWidth","innerHeight","position","set","domElement","minDistance","maxDistance","zoomSpeed","rotateSpeed","enableDamping","enablePan","dampingFactor","autoRotate","autoRotateSpeed","maxPolarAngle","target","setHSL","fog","color","groundColor","add","hemiLightHelper","multiplyScalar","castShadow","shadow","mapSize","width","height","d","left","right","top","bottom","far","bias","dirLightHelper","setupPointLight","sphere","ffffff","setupDom","setSize","get","appendChild","setupPostRender","animate","addEventListener","render","console","log","update","genMetadata","head","body","asset","Date","now","toLocaleString","push","trait_type","value","length","parseMetadata","JSON","stringify","html","setupModel","data","model","children","loadObj3d","smt_01","texture_skin","texture_outfit","texture_emissive","texture_ao","glbLoader","GLTFLoader","addClass","obj3d","cleanUp","Promise","all","loadAsync","receiveShadow","scale","skinTexture","map","emissiveMap","aoMap","outfitTexture","traverse","o","isMesh","indexOf","material","removeClass","init","addRoom","time","getDistance","requestAnimationFrame","getCamera","getControl","control","window","meshs","i","obj","remove","addGround","geometry","depthWrite","mesh","rotation","x","Math","PI","roomMesh","side","loadModel","path_to_model","loader","resolve","reject","gltf","shadowJob","arrModel","isGoUp","forEach","childModel","parent","object","undefined","error","config","widthTriggerScale","widthDesktopSafe","widthDesktop","widthMobile","heightDesktop","heightMobile","func","isMobile","device"],"mappings":"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","file":"obj-smt.bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"main\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"0\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import \"./js/index.js\";\r\nimport \"./scss/index.scss\";","import * as THREE from 'three';\r\nimport { OrbitControls } from 'three/examples/js/controls/OrbitControls';\r\nimport { LightProbeGenerator } from 'three/examples/js/lights/LightProbeGenerator';\r\nimport { RGBELoader } from 'three/examples/js/loaders/RGBELoader.js';\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\r\nimport { EXRLoader } from 'three/examples/jsm/loaders/EXRLoader.js';\r\n\r\n// var OrbitControls = require('three/examples/js/controls/OrbitControls'),\r\n//     LightProbeGenerator = require('three/examples/js/lights/LightProbeGenerator');\r\n\r\n\r\n// import simple_geometry_obj from \"./web3d/_test\";\r\nimport obj3d from \"./web3d/_obj3d\";\r\n\r\n// ROOT\r\nvar web3d;\r\nvar scene,\r\n    camera,\r\n    renderer,\r\n    controls;\r\n\r\nvar hemiLight,\r\n    dirLight;\r\n\r\nvar light1, light2, light3, light4;\r\n\r\n// Object 3D\r\nvar obj_ground,\r\n    obj_room,\r\n    cube_test;\r\n\r\nvar data_smt_01,\r\n    obj_smt_01;\r\n\r\nvar metadata = {\r\n    dna: \"n/a\",\r\n    name: \"n/a\",\r\n    description: \"n/a\",\r\n    image: \"n/a\",\r\n    date: \"\",\r\n    attributes: []\r\n}\r\n\r\nweb3d = {\r\n    debug: false,\r\n    helper: false,\r\n    el: {\r\n        renderer: $(\"#rendered_threed\")\r\n    },\r\n    setupRGBE: function (options) {\r\n        var defaults = {\r\n            path: 'assets/hdr/',\r\n            hdriFile: 'comfy_cafe_4k.hdr'\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n\r\n        new THREE.RGBELoader()\r\n            .setPath(settings.path)\r\n            // .load( 'royal_esplanade_1k.hdr', function ( texture ) {\r\n            .load(settings.hdriFile, function (texture) {\r\n                texture.mapping = THREE.EquirectangularReflectionMapping;\r\n                scene.background = texture;\r\n                scene.environment = texture;\r\n            });\r\n\r\n    },\r\n    setupEnvironment: function (options) {\r\n        var defaults = {\r\n            hemiLight: true,\r\n            dirLight: true\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n\r\n\r\n        scene = new THREE.Scene();\r\n        camera = new THREE.PerspectiveCamera(\r\n            75,\r\n            web3d.el.renderer.innerWidth() / web3d.el.renderer.innerHeight(),\r\n            0.1,\r\n            1000);\r\n\r\n        camera.position.set(2, 4.1, 5.3);\r\n        // camera.position.set(15.7, 58.4, 60.5);\r\n        // camera.lookAt(0, 0, 0);\r\n\r\n\r\n\r\n        renderer = new THREE.WebGLRenderer();\r\n        controls = new THREE.OrbitControls(camera, renderer.domElement);\r\n\r\n        controls.minDistance = 3;\r\n        controls.maxDistance = 10;\r\n        controls.zoomSpeed = 0.5;\r\n        controls.rotateSpeed = 0.2;\r\n        controls.enableDamping = true;\r\n        controls.enablePan = false;\r\n        controls.dampingFactor = 0.1;\r\n        controls.autoRotate = true;\r\n        controls.autoRotateSpeed = 0.5;\r\n        controls.maxPolarAngle = 1.4;\r\n        controls.target.set(0, 3.3, 0);\r\n\r\n        scene.background = new THREE.Color().setHSL(0, 0, 0);\r\n        scene.fog = new THREE.Fog(scene.background, 1, 5000);\r\n\r\n        hemiLight = new THREE.HemisphereLight(0xffffff, 0xffffff, 0.6);\r\n        hemiLight.color.setHSL(0.6, 1, 0.6);\r\n        hemiLight.groundColor.setHSL(0.095, 1, 0.75);\r\n        hemiLight.position.set(0, 50, 0);\r\n        if (settings.hemiLight) {\r\n            scene.add(hemiLight);\r\n        }\r\n\r\n        if (settings.hemiLight && web3d.helper) {\r\n            const hemiLightHelper = new THREE.HemisphereLightHelper(hemiLight, 10);\r\n            scene.add(hemiLightHelper);\r\n        }\r\n\r\n        //\r\n\r\n        dirLight = new THREE.DirectionalLight(0xffffff, .8);\r\n        dirLight.color.setHSL(0.1, 1, 0.95);\r\n        dirLight.position.set(- 1, 1.75, 1);\r\n        dirLight.position.multiplyScalar(100);\r\n        if (settings.dirLight) {\r\n            scene.add(dirLight);\r\n        }\r\n\r\n        dirLight.castShadow = true;\r\n\r\n        dirLight.shadow.mapSize.width = 2048;\r\n        dirLight.shadow.mapSize.height = 2048;\r\n\r\n        const d = 50;\r\n\r\n        dirLight.shadow.camera.left = - d;\r\n        dirLight.shadow.camera.right = d;\r\n        dirLight.shadow.camera.top = d;\r\n        dirLight.shadow.camera.bottom = - d;\r\n\r\n        dirLight.shadow.camera.far = 3500;\r\n        dirLight.shadow.bias = - 0.0001;\r\n\r\n        if (settings.dirLight && web3d.helper) {\r\n            const dirLightHelper = new THREE.DirectionalLightHelper(dirLight, 10);\r\n            scene.add(dirLightHelper);\r\n        }\r\n\r\n    },\r\n    setupPointLight: function (options) {\r\n\r\n        const sphere = new THREE.SphereGeometry(0.5, 16, 8);\r\n\r\n        //lights\r\n\r\n        light1 = new THREE.PointLight(ffffff, 2, 50);\r\n        light1.add(new THREE.Mesh(sphere, new THREE.MeshBasicMaterial({ color: 0xff0040 })));\r\n        scene.add(light1);\r\n\r\n        light2 = new THREE.PointLight(0x0040ff, 2, 50);\r\n        light2.add(new THREE.Mesh(sphere, new THREE.MeshBasicMaterial({ color: 0x0040ff })));\r\n        scene.add(light2);\r\n\r\n        light3 = new THREE.PointLight(0x80ff80, 2, 50);\r\n        light3.add(new THREE.Mesh(sphere, new THREE.MeshBasicMaterial({ color: 0x80ff80 })));\r\n        scene.add(light3);\r\n\r\n        light4 = new THREE.PointLight(0xffaa00, 2, 50);\r\n        light4.add(new THREE.Mesh(sphere, new THREE.MeshBasicMaterial({ color: 0xffaa00 })));\r\n        scene.add(light4);\r\n    },\r\n    setupDom: function (options) {\r\n        var defaults = {\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n\r\n\r\n        // console.log(web3d.el.renderer.innerWidth(), web3d.el.renderer.innerHeight());\r\n\r\n        renderer.setSize(web3d.el.renderer.innerWidth(), web3d.el.renderer.innerHeight());\r\n        web3d.el.renderer.get(0).appendChild(renderer.domElement);\r\n\r\n    },\r\n    setupPostRender: function (options) {\r\n        var defaults = {\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n\r\n        // re-render\r\n        web3d.animate(renderer, scene, camera);\r\n        controls.addEventListener('change', function () {\r\n            web3d.render();\r\n            if (web3d.debug) {\r\n                console.log(camera.position);\r\n\r\n            }\r\n        });\r\n        // camera.position.set( 0, 20, 100 );\r\n        controls.update();\r\n    },\r\n    genMetadata: function (options) {\r\n        var defaults = {\r\n            head: \"\",\r\n            body: \"\",\r\n            asset: \"\"\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n\r\n        metadata.dna = Date.now();\r\n        metadata.date = new Date().toLocaleString();\r\n        metadata.attributes = [];\r\n        metadata.attributes.push(\r\n            {\r\n                trait_type: \"Body\",\r\n                value: settings.body\r\n            },\r\n            {\r\n                trait_type: \"Head\",\r\n                value: settings.head\r\n            },\r\n            {\r\n                trait_type: \"Asset\",\r\n                value: settings.asset\r\n            }\r\n        );\r\n\r\n        if ($(\"#metadata\").length > 0) {\r\n\r\n            var parseMetadata = JSON.stringify(metadata, null, 2);\r\n            $(\"#metadata\").html(parseMetadata);\r\n        }\r\n    },\r\n    setupModel: function (data, options) {\r\n        const model = data.scene.children[0];\r\n        return model;\r\n    },\r\n    loadObj3d: async function (options) {\r\n        var defaults = {\r\n            smt_01: {\r\n                model: \"assets/smt_01/model3.glb\",\r\n                // texture: \"assets/smt_01/texture/SMT1_SHD_BaseColor.png\"\r\n                texture_skin: \"assets/Tex/SMT1_Skin_SHD_BaseColor.png\",\r\n                texture_outfit: \"assets/Tex/SMT1_SHD_BaseColor.png\",\r\n                texture_emissive: \"assets/Tex/SMT1_SHD_Emissive.png\",\r\n                texture_ao: \"assets/Tex/SMT1_SHD_AmbientOcclusion.png\",\r\n            },\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n\r\n        const glbLoader = new GLTFLoader();\r\n\r\n        $(web3d.el.renderer.addClass(\"loading\"));\r\n        obj3d.cleanUp(scene, camera);\r\n        [data_smt_01] = await Promise.all([\r\n            glbLoader.loadAsync(settings.smt_01.model)\r\n        ]);\r\n\r\n        obj_smt_01 = web3d.setupModel(data_smt_01);\r\n        scene.add(obj_smt_01);\r\n\r\n        obj_smt_01.receiveShadow = true;\r\n        obj_smt_01.castShadow = true;\r\n\r\n        // const material = new THREE.MeshLambertMaterial( { color: 0x50c5e6 , depthWrite: false } );\t\t\t\t\r\n\r\n        // var obj2 = new THREE.Mesh(obj_smt_01, material);\r\n        // obj_smt_01.material = material;\r\n        obj_smt_01.scale.set(.08, .08, .08);\r\n\r\n        const texture_skin = new THREE.TextureLoader().load(settings.smt_01.texture_skin);\r\n        const texture_outfit = new THREE.TextureLoader().load(settings.smt_01.texture_outfit);\r\n        const texture_emissive = new THREE.TextureLoader().load(settings.smt_01.texture_emissive);\r\n        const texture_ao = new THREE.TextureLoader().load(settings.smt_01.texture_ao);\r\n        var skinTexture = new THREE.MeshStandardMaterial({\r\n            map: texture_skin,\r\n            emissiveMap: texture_emissive,\r\n            aoMap: texture_ao\r\n            \r\n        });\r\n        var outfitTexture = new THREE.MeshStandardMaterial({\r\n            map: texture_outfit,\r\n            emissiveMap: texture_emissive,\r\n            aoMap: texture_ao\r\n        });\r\n\r\n        console.log(obj_smt_01);\r\n\r\n        obj_smt_01.traverse((o) => {\r\n\r\n            if (o.isMesh) {\r\n                o.castShadow = true;\r\n                o.receiveShadow = true;\r\n            }\r\n\r\n            if (o.isMesh && [\"mesh_6\", \"mesh_7\", \"mesh_8\"].indexOf(o.name) > -1) {\r\n                // skin                \r\n                o.material = skinTexture;\r\n                // o.material = textures.map(texture => (new THREE.TextureLoader().load(texture)));\r\n            }\r\n            else if (o.isMesh) {\r\n                // outfit\r\n                o.material = outfitTexture;\r\n                // o.material = textures.map(texture => (new THREE.TextureLoader().load(texture)));\r\n            } \r\n            // else if (o.children.length > 0) {\r\n            //     // in the group (?)\r\n            //     o.traverse((ochild) => {\r\n\r\n            //         console.log(ochild);\r\n                    \r\n            //         if (ochild.isMesh) {\r\n            //             ochild.castShadow = true;\r\n            //             ochild.receiveShadow = true;\r\n            //         }\r\n            //         if (ochild.isMesh && [\"mesh_6\", \"mesh_7\", \"mesh_8\"].indexOf(ochild.name) > -1) {\r\n            //             ochild.material = outfitTexture;\r\n            //         }\r\n            //     })\r\n            // }\r\n        });\r\n\r\n        $(web3d.el.renderer.removeClass(\"loading\"));\r\n\r\n\r\n        // console.log(obj_asset3);\r\n        web3d.genMetadata(settings);\r\n\r\n    },\r\n    init: function () {\r\n        web3d.setupEnvironment({\r\n            hemiLight: true,\r\n            dirLight: true\r\n        });\r\n        // web3d.setupRGBE();\r\n        // web3d.setupPointLight();\r\n        web3d.setupDom();\r\n\r\n        // obj_ground = obj3d.addGround(scene, camera);\r\n\r\n        obj_room = obj3d.addRoom(scene, camera);\r\n\r\n        web3d.setupPostRender();\r\n    },\r\n    render: function () {\r\n\r\n        // console.log(camera);\r\n\r\n        const time = Date.now() * 0.0005;\r\n\r\n        // light1.position.x = Math.sin( time * 0.7 ) * 30;\r\n        // light1.position.y = Math.cos( time * 0.5 ) * 40;\r\n        // light1.position.z = Math.cos( time * 0.3 ) * 30;\r\n\r\n        // light2.position.x = Math.cos( time * 0.3 ) * 30;\r\n        // light2.position.y = Math.sin( time * 0.5 ) * 40;\r\n        // light2.position.z = Math.sin( time * 0.7 ) * 30;\r\n\r\n        // light3.position.x = Math.sin( time * 0.7 ) * 30;\r\n        // light3.position.y = Math.cos( time * 0.3 ) * 40;\r\n        // light3.position.z = Math.sin( time * 0.5 ) * 30;\r\n\r\n        // light4.position.x = Math.sin( time * 0.3 ) * 30;\r\n        // light4.position.y = Math.cos( time * 0.7 ) * 40;\r\n        // light4.position.z = Math.sin( time * 0.5 ) * 30;\r\n\r\n        renderer.render(scene, camera);\r\n    },\r\n    animate: function () {\r\n        if (web3d.debug) {\r\n            console.log(\"DEBUG: re-rendered\");\r\n            console.log(controls.getDistance());\r\n        }\r\n        // obj_asset.rotation.x += 0.05;\r\n        // obj_asset.rotation.y += 0.05;\r\n        requestAnimationFrame(web3d.animate);\r\n        web3d.render();\r\n    },\r\n    // Get get get\r\n    getCamera: function () {\r\n        console.log(camera);\r\n    },\r\n    getControl: function () {\r\n        console.log(control);\r\n    }\r\n}\r\n\r\nexport default web3d;","import config from \"../../setup/config\";\r\nimport bootstrap from 'bootstrap';\r\nimport web3d from \"./_web3d\";\r\n\r\n$(function () {\r\n    web3d.init();\r\n    web3d.loadObj3d();\r\n});\r\n\r\nwindow.addEventListener(\"load\", function(){\r\n\r\n});","import * as THREE from 'three';\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\r\n\r\nvar obj3d;\r\n\r\nvar meshs = [];\r\n\r\nobj3d = { \r\n    cleanUp: function(scene, camera) {\r\n        for( var i = scene.children.length - 1; i >= 0; i--) { \r\n            var obj = scene.children[i];\r\n\r\n            if ([\"obj3d_body\", \"obj3d_head\", \"obj3d_asset\"].indexOf(obj.name) > -1) {\r\n                scene.remove(obj); \r\n            }\r\n\r\n       }\r\n    },\r\n    addGround: function(scene, camera){\r\n        const geometry = new THREE.PlaneGeometry( 100, 100 );\r\n        const material = new THREE.MeshPhongMaterial( { color: 0x00ff00, depthWrite: false } );\t\t\t\t\r\n        \r\n        material.color.setHSL( 0.095, 1, 0.75 );\r\n\r\n        const mesh = new THREE.Mesh( geometry, material );\r\n\r\n        mesh.rotation.x = - Math.PI / 2;\r\n        mesh.receiveShadow = true;\r\n        scene.add( mesh );\r\n\r\n        meshs.push(mesh);\r\n\r\n        return mesh;\r\n    },\r\n    addRoom: function(scene, camera) {\r\n        const geometry = new THREE.SphereGeometry( 20, 32, 32 );;        \r\n        const material = new THREE.MeshLambertMaterial( { color: 0x50c5e6 , depthWrite: false } );\t\t\t\t\r\n\r\n        const roomMesh = new THREE.Mesh(geometry, material);\r\n        roomMesh.material.side = THREE.BackSide;\r\n\r\n        roomMesh.castShadow = true;\r\n        roomMesh.receiveShadow = true;\r\n\r\n        scene.add(roomMesh);\r\n        meshs.push(roomMesh);\r\n\r\n        return roomMesh;\r\n\r\n\r\n    },\r\n    loadModel: async function(scene, camera, path_to_model, name){\r\n        \r\n\r\n        var model;\r\n        const loader = new GLTFLoader();\r\n\r\n        return new Promise((resolve, reject) => {\r\n            loader.load( path_to_model, function ( gltf ) {\r\n\r\n                // console.log(gltf.scene);\r\n    \r\n                model = gltf.scene;\r\n    \r\n                model.name = name;\r\n                if (model.isMesh) {\r\n                    model.castShadow = true;\r\n                    model.receiveShadow = true;\r\n                }\r\n    \r\n                var shadowJob = function(arrModel, isGoUp){\r\n                    arrModel.forEach(childModel => {\r\n                        // console.log(childLvl, childModel.name);\r\n                        if (childModel.children.length > 0 && !isGoUp) {\r\n                            shadowJob(childModel.children, false);\r\n                        }\r\n                        if (childModel.parent != null) {\r\n                            shadowJob([childModel.parent], true);\r\n                        }\r\n                        childModel.castShadow = true;\r\n                        childModel.receiveShadow = true;\r\n                        childModel.traverse(function (object) {\r\n                            if (object.isMesh) {\r\n                                // console.log(\"---->\" + object.name);\r\n                                // console.log(object.isMesh, object);\r\n                                object.castShadow = true;\r\n                                object.receiveShadow = true;\r\n                            } else {\r\n                                // console.log(\"st wrong again!\");\r\n                            }\r\n                        });\r\n                        console.log(childModel);\r\n                    });\r\n                    \r\n                };\r\n\r\n                shadowJob([model], false);\r\n\r\n                // if (model.isMesh) {\r\n                //     model.castShadow = true;\r\n                //     model.receiveShadow = true;\r\n                // } else {\r\n                //     model.traverse( function ( object ) {\r\n                //         if ( object.isMesh ) {\r\n                //             console.log(\"----\")\r\n                //             console.log(object.isMesh, object);\r\n                //             object.castShadow = true;\r\n                //             object.receiveShadow = true;\r\n                //         } else {\r\n                //             if (object.children.length > 0) {\r\n                //                 object.children.forEach(childMesh => {\r\n                //                     console.log(\"----\")\r\n                //                     console.log(childMesh.isMesh, childMesh);\r\n                //                     childMesh.castShadow = true;\r\n                //                     childMesh.receiveShadow = true;\r\n                //                 })\r\n                //             }\r\n                //         };\r\n                //     } );\r\n\r\n                // }\r\n    \r\n                model.position.set(0 , 0, 0);\r\n    \r\n                meshs.push(model);\r\n                scene.add( model );\r\n                // console.log(\"load obj\");\r\n                resolve(\"loaded obj\");\r\n            \r\n            }, undefined, function ( error ) {\r\n            \r\n                console.error( error );\r\n\r\n                reject(error);\r\n            \r\n            } );\r\n        });\r\n\r\n        \r\n\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default obj3d;","// extracted by mini-css-extract-plugin\nexport {};","var config = {\r\n    widthTriggerScale: 9999,\r\n    widthDesktopSafe: 1620,\r\n    widthDesktop: 2000,\r\n    widthMobile: 768,\r\n    heightDesktop: 1000,\r\n    heightMobile: 1000,\r\n    func: {\r\n        isMobile: function(){\r\n            var device = {\r\n                width: $(window).innerWidth(),\r\n                height: $(window).innerHeight()\r\n            };\r\n\r\n            return ((device.width <= config.widthMobile) || (device.width < device.height));\r\n        }\r\n    }\r\n}\r\n\r\nexport default config;"],"sourceRoot":""}