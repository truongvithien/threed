{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/obj-smt/index.js","webpack:///./src/obj-smt/js/_web3d.js","webpack:///./src/obj-smt/js/index.js","webpack:///./src/obj-smt/js/web3d/_helper.js","webpack:///./src/obj-smt/js/web3d/_obj3d.js","webpack:///./src/obj-smt/scss/index.scss","webpack:///./src/setup/config.js"],"names":["web3d","debug","scene","camera","renderer","controls","mixer","light_hemi","light_dir","light_key","light_fill","light_back","light_top","light_bottom","data_bg","obj_bg","data_smt_01","obj_smt_01","data_bubble","obj_bubble","data_text","obj_text","clock","THREE","metadata","dna","name","description","image","date","attributes","helper","el","$","setupRGBE","options","defaults","dir","hdri_file","enable_background","settings","extend","setPath","load","texture","mapping","background","environment","setupScene","setHSL","fog","setupRenderer","antialias","setPixelRatio","window","devicePixelRatio","setSize","innerWidth","innerHeight","get","appendChild","domElement","console","log","setupCamera","position","set","lookAt","setupControls","minDistance","maxDistance","zoomSpeed","rotateSpeed","enableDamping","enablePan","dampingFactor","autoRotate","autoRotateSpeed","minPolarAngle","maxPolarAngle","target","x","y","z","setupLights","environment_light","enable","hemisphere_light","skyColor","groundColor","intensity","directional_light","key_light","debug_color","color","decay","distance","angle","Math","PI","penumbra","cast_shadow","shadow_map_size_width","shadow_map_size_height","shadow_camera_near","shadow_camera_far","shadow_focus","fill_light","back_light","top_light","bottom_light","create_light","spot_light","add","light_hemi_helper","multiplyScalar","castShadow","shadow","mapSize","width","height","d","left","right","top","bottom","far","bias","light_dir_helper","setupHelpers","gridHelper","size","divisions","colorCenterLine","colorGrid","setupEnvironment","setupPostRender","animate","addEventListener","render","update","genMetadata","head","body","asset","Date","now","toLocaleString","push","trait_type","value","length","parseMetadata","JSON","stringify","html","setupModel","data","model","children","initThickness","loader","imgTexture","thicknessTexture","wrapS","wrapT","shader","SubsurfaceScatteringShader","uniforms","clone","material","vertexShader","fragmentShader","lights","extensions","derivatives","loaderFBX","FBXLoader","object","scale","setScalar","loadObj3d","smt_01","dir_texture","skin_texture","base_color","metallic","normal","roughness","ambient_occlusion","thickness","outfit_texture","emissive","glbLoader","GLTFLoader","addClass","obj3d","cleanUp","Promise","all","loadAsync","receiveShadow","map","metalnessMap","normalMap","roughnessMap","aoMap","emissiveMap","skinTexture","aoMapIntensity","outfitTexture","emissiveIntensity","normalScale","hairTexture","traverse","o","isMesh","indexOf","removeClass","shadowMap","enabled","type","loadFbx","fbxLoader","data_fbx","obj_fbx","action","clipAction","animations","play","teethTexture","loadBg","bg","loadText","text","loadBubble","geometry","lookAtObj","obj_to_lookat","init","requestAnimationFrame","delta","getDelta","callback","freeCamera","Infinity","getCamera","getControls","getObject","obj_name","watch","object_to_watch","endWatch","url","URL","location","href","param_type","searchParams","point_light","physically_correct","power","shadow_bias","map_size_width","map_size_height","camera_near","camera_far","sphere_light","obj_light","dir_light","near","focus","lightHelper","shadowCameraHelper","meshs","obj","i","remove","addGround","depthWrite","mesh","rotation","addRoom","roomMesh","side","loadModel","path_to_model","resolve","reject","gltf","shadowJob","arrModel","isGoUp","forEach","childModel","parent","undefined","error","addBoxes","geometry_1","geometry_2","boxMesh_1","boxMesh_2","config","widthTriggerScale","widthDesktopSafe","widthDesktop","widthMobile","heightDesktop","heightMobile","func","isMobile","device"],"mappings":"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","file":"obj-smt.bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"main\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"0\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import \"./js/index.js\";\r\nimport \"./scss/index.scss\";","import * as THREE from 'three';\r\nimport { OrbitControls } from 'three/examples/js/controls/OrbitControls';\r\nimport { LightProbeGenerator } from 'three/examples/js/lights/LightProbeGenerator';\r\nimport { RGBELoader } from 'three/examples/js/loaders/RGBELoader.js';\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\r\nimport { FBXLoader } from 'three/examples/jsm/loaders/FBXLoader.js';\r\nimport { SubsurfaceScatteringShader } from 'three/examples/jsm/shaders/SubsurfaceScatteringShader.js';\r\n\r\n// var OrbitControls = require('three/examples/js/controls/OrbitControls'),\r\n//     LightProbeGenerator = require('three/examples/js/lights/LightProbeGenerator');\r\n\r\n\r\n// import simple_geometry_obj from \"./web3d/_test\";\r\nimport obj3d from \"./web3d/_obj3d\";\r\n\r\nimport helper from \"./web3d/_helper\";\r\n\r\n// ROOT\r\nvar web3d, \r\n    debug;\r\nvar scene,\r\n    camera,\r\n    renderer,\r\n    controls,\r\n    mixer;\r\n\r\nvar light_hemi,\r\n    light_dir,\r\n    light_key,\r\n    light_fill,\r\n    light_back,\r\n    light_top,\r\n    light_bottom;\r\n\r\n    // Object 3D\r\nvar data_bg,\r\n    obj_bg;\r\n\r\nvar data_smt_01,\r\n    obj_smt_01;\r\n\r\nvar data_bubble,\r\n    obj_bubble;\r\n\r\nvar data_text,\r\n    obj_text;\r\n\r\nconst clock = new THREE.Clock();\r\n\r\nvar metadata = {\r\n    dna: \"n/a\",\r\n    name: \"n/a\",\r\n    description: \"n/a\",\r\n    image: \"n/a\",\r\n    date: \"\",\r\n    attributes: []\r\n}\r\n\r\nweb3d = {\r\n    debug: false,\r\n    helper: true,\r\n    el: {\r\n        renderer: $(\"#rendered_threed\")\r\n    },\r\n\r\n    //---\r\n    setupRGBE: function (options) {\r\n        var defaults = {\r\n            dir: 'assets/hdr/',\r\n            hdri_file: 'provence_studio_1k.hdr',\r\n            enable_background: true \r\n        }\r\n        var settings = $.extend(defaults, options);\r\n\r\n        new THREE.RGBELoader()\r\n            .setPath(settings.dir)\r\n            .load(settings.hdri_file, function (texture) {\r\n                texture.mapping = THREE.EquirectangularReflectionMapping;\r\n                if (settings.enable_background) {\r\n                    scene.background = texture;\r\n                }\r\n                scene.environment = texture;\r\n            });\r\n\r\n    },\r\n    //---\r\n    setupScene: function(options) {\r\n        var defaults = {\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n        scene = new THREE.Scene();\r\n        scene.background = new THREE.Color().setHSL(0, 0, 0);\r\n        scene.fog = new THREE.Fog(scene.background, 1, 5000);\r\n    },\r\n    setupRenderer: function(options) {\r\n        var defaults = {\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n        renderer = new THREE.WebGLRenderer({\r\n            antialias: true\r\n        });\r\n        // renderer.antialias = true;\r\n        // console.log(web3d.el.renderer.innerWidth(), web3d.el.renderer.innerHeight());\r\n\r\n        renderer.setPixelRatio( window.devicePixelRatio );\r\n        renderer.setSize(web3d.el.renderer.innerWidth(), web3d.el.renderer.innerHeight());\r\n        web3d.el.renderer.get(0).appendChild(renderer.domElement);\r\n\r\n        console.log(renderer.antialias);\r\n    },\r\n    setupCamera: function(options) {\r\n        var defaults = {\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n        camera = new THREE.PerspectiveCamera(\r\n            75,\r\n            web3d.el.renderer.innerWidth() / web3d.el.renderer.innerHeight(),\r\n            0.1,\r\n            1000);\r\n        // camera.position.set(2, 4.1, 5.3);\r\n        camera.position.set(0.6, 4.4, 5.9);\r\n        // camera.position.set(15.7, 58.4, 60.5);\r\n        camera.lookAt(0, 10, 0);\r\n    },\r\n    setupControls: function(options) {\r\n        var defaults = {\r\n            minDistance: 4,\r\n            maxDistance: 9,\r\n            zoomSpeed: 1,\r\n            rotateSpeed: 1,\r\n            enableDamping: true,\r\n            enablePan: false,\r\n            dampingFactor: 0.1,\r\n            autoRotate: true,\r\n            autoRotateSpeed: 0.5,\r\n            minPolarAngle: .8,\r\n            maxPolarAngle: 1.8,\r\n            target: {\r\n                x: 0, y: 2.3, z: 0\r\n            } \r\n        }\r\n        var settings = $.extend(defaults, options);\r\n\r\n        controls = new THREE.OrbitControls(camera, renderer.domElement);\r\n        controls.minDistance = settings.minDistance;\r\n        controls.maxDistance = settings.maxDistance;\r\n        controls.zoomSpeed = settings.zoomSpeed;\r\n        controls.rotateSpeed = settings.rotateSpeed;\r\n        controls.enableDamping = settings.enableDamping;\r\n        controls.enablePan = settings.enablePan;\r\n        controls.dampingFactor = settings.dampingFactor;\r\n        controls.autoRotate = settings.autoRotate;\r\n        controls.autoRotateSpeed = settings.autoRotateSpeed;\r\n        controls.minPolarAngle = settings.minPolarAngle;\r\n        controls.maxPolarAngle = settings.maxPolarAngle;\r\n\r\n        controls.target.set(\r\n            settings.target.x,\r\n            settings.target.y,\r\n            settings.target.z\r\n        );\r\n\r\n    },\r\n    setupLights: function(options){\r\n        var defaults = {\r\n            environment_light: {\r\n                enable: true,\r\n                options: {\r\n                    dir: \"assets/hdr/\",\r\n                    hdri_file: \"provence_studio_1k_edit.hdr\",\r\n                    enable_background: false,\r\n                }\r\n            },\r\n            hemisphere_light: {\r\n                enable: false,\r\n                options: {\r\n                    skyColor: 0xffffff,\r\n                    groundColor: 0xffffff,\r\n                    intensity: 1,\r\n                    position: {\r\n                        x: 0, y: 50, z: 0\r\n                    }\r\n                }\r\n            },\r\n            directional_light: {\r\n                enable: false,\r\n                options: {\r\n                }\r\n            },\r\n            key_light: {\r\n                enable: 1,\r\n                helper: 0,\r\n                options: {\r\n                    debug_color: 0xff0000,\r\n                    color: 0xffffff,\r\n                    decay: 1,\r\n                    distance: 35,\r\n                    intensity: .85,\r\n                    angle: Math.PI/ 2,\r\n                    penumbra: .8,\r\n                    cast_shadow: true,\r\n                    shadow_map_size_width: 512,\r\n                    shadow_map_size_height: 512,\r\n                    shadow_camera_near: 10,\r\n                    shadow_camera_far: 200,\r\n                    shadow_focus: .2,\r\n                    position: {\r\n                        x: 4, y: 3, z: 4\r\n                    },\r\n                    target: {\r\n                        x: 0, y: 2, z: 0\r\n                    }\r\n                }\r\n            },\r\n            fill_light: {\r\n                enable: 1,\r\n                helper: 0,\r\n                options: {\r\n                    debug_color: 0xff0000,\r\n                    color: 0xffffff,\r\n                    decay: 1,\r\n                    distance: 50,\r\n                    intensity: .5,\r\n                    angle: Math.PI/ 3,\r\n                    penumbra: .8,\r\n                    cast_shadow: true,\r\n                    shadow_map_size_width: 512,\r\n                    shadow_map_size_height: 512,\r\n                    shadow_camera_near: 10,\r\n                    shadow_camera_far: 200,\r\n                    shadow_focus: .2,\r\n                    position: {\r\n                        x: -7, y: 3, z: 6\r\n                    },\r\n                    target: {\r\n                        x: 0, y: 4, z: 0\r\n                    }\r\n                }\r\n            },\r\n            back_light: {\r\n                enable: 1,\r\n                helper: 0,\r\n                options: {\r\n                    debug_color: 0xff0000,\r\n                    color: 0xffffff,\r\n                    decay: 1,\r\n                    distance: 50,\r\n                    intensity: .8,\r\n                    angle: Math.PI/ 3,\r\n                    penumbra: .8,\r\n                    cast_shadow: true,\r\n                    shadow_map_size_width: 512,\r\n                    shadow_map_size_height: 512,\r\n                    shadow_camera_near: 10,\r\n                    shadow_camera_far: 200,\r\n                    shadow_focus: .2,\r\n                    position: {\r\n                        x: 0, y: 2, z: -4\r\n                    },\r\n                    target: {\r\n                        x: 0, y: 2, z: 0\r\n                    }\r\n                }\r\n            },\r\n            top_light: {\r\n                enable: 1,\r\n                helper: 0,\r\n                options: {\r\n                    debug_color: 0xff0000,\r\n                    color: 0xffffff,\r\n                    decay: 1,\r\n                    distance: 50,\r\n                    intensity: .3,\r\n                    angle: Math.PI/ 3,\r\n                    penumbra: .8,\r\n                    cast_shadow: true,\r\n                    shadow_map_size_width: 512,\r\n                    shadow_map_size_height: 512,\r\n                    shadow_camera_near: 10,\r\n                    shadow_camera_far: 200,\r\n                    shadow_focus: .2,\r\n                    position: {\r\n                        x: 0, y: 8, z: 3\r\n                    },\r\n                    target: {\r\n                        x: 0, y: 4, z: 1\r\n                    }\r\n                }\r\n            },\r\n            bottom_light: {\r\n                enable: 1,\r\n                helper: 0,\r\n                options: {\r\n                    debug_color: 0xff0000,\r\n                    color: 0xffffff,\r\n                    decay: 1,\r\n                    distance: 50,\r\n                    intensity: .1,\r\n                    angle: Math.PI/ 3,\r\n                    penumbra: .8,\r\n                    cast_shadow: true,\r\n                    shadow_map_size_width: 512,\r\n                    shadow_map_size_height: 512,\r\n                    shadow_camera_near: 10,\r\n                    shadow_camera_far: 200,\r\n                    shadow_focus: .2,\r\n                    position: {\r\n                        x: 0, y: 1, z: 3\r\n                    },\r\n                    target: {\r\n                        x: 0, y: 3, z: 0\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n\r\n        if (settings.environment_light.enable) web3d.setupRGBE(settings.environment_light.options);\r\n\r\n        light_key = helper.create_light.spot_light(settings.key_light);\r\n        if (settings.key_light.enable) {\r\n            scene.add( light_key);\r\n            scene.add( light_key.target );\r\n        }\r\n\r\n        \r\n        light_fill = helper.create_light.spot_light(settings.fill_light);\r\n        if (settings.fill_light.enable) {\r\n            scene.add( light_fill);\r\n            scene.add( light_fill.target );\r\n        }\r\n        \r\n        light_back = helper.create_light.spot_light(settings.back_light);\r\n        if (settings.back_light.enable) {\r\n            scene.add( light_back);\r\n            scene.add( light_back.target );\r\n        }\r\n        \r\n        light_top = helper.create_light.spot_light(settings.top_light);\r\n        if (settings.top_light.enable) {\r\n            scene.add( light_top);\r\n            scene.add( light_top.target );\r\n        }\r\n        \r\n        light_bottom = helper.create_light.spot_light(settings.bottom_light);\r\n        if (settings.bottom_light.enable) {\r\n            scene.add( light_bottom);\r\n            scene.add( light_bottom.target );\r\n        }\r\n        \r\n        // light_fill = helper.create_light.point_light(settings.fill_light);\r\n        // scene.add(light_fill);\r\n        \r\n        // light_back = helper.create_light.point_light(settings.back_light);\r\n        // scene.add(light_back);\r\n        \r\n        // light_top = helper.create_light.point_light(settings.top_light);\r\n        // scene.add(light_top);\r\n        \r\n        // light_bottom = helper.create_light.point_light(settings.bottom_light);\r\n        // scene.add(light_bottom);\r\n        \r\n\r\n        if (settings.hemisphere_light.enable) {\r\n            light_hemi = new THREE.HemisphereLight(0xffffff, 0xffffff, 0.6);\r\n            light_hemi.color.setHSL(0.6, 1, 0.6);\r\n            light_hemi.groundColor.setHSL(0.095, 1, 0.75);\r\n            light_hemi.position.set(0, 50, 0);\r\n            scene.add(light_hemi);\r\n\r\n            if (web3d.helper) {\r\n                const light_hemi_helper = new THREE.HemisphereLightHelper(light_hemi, 10);\r\n                scene.add(light_hemi_helper);\r\n            }\r\n        }\r\n\r\n        if (settings.directional_light.enable) {\r\n            light_dir = new THREE.DirectionalLight(0xffffff, .8);\r\n            light_dir.color.setHSL(0.1, 1, 0.95);\r\n            light_dir.position.set(- 1, 1.75, 1);\r\n            light_dir.position.multiplyScalar(100);\r\n            if (settings.light_dir) {\r\n                scene.add(light_dir);\r\n            }\r\n\r\n            light_dir.castShadow = true;\r\n\r\n            light_dir.shadow.mapSize.width = 2048;\r\n            light_dir.shadow.mapSize.height = 2048;\r\n\r\n            const d = 50;\r\n\r\n            light_dir.shadow.camera.left = - d;\r\n            light_dir.shadow.camera.right = d;\r\n            light_dir.shadow.camera.top = d;\r\n            light_dir.shadow.camera.bottom = - d;\r\n\r\n            light_dir.shadow.camera.far = 3500;\r\n            light_dir.shadow.bias = - 0.0001;\r\n\r\n            if (settings.light_dir && web3d.helper) {\r\n                const light_dir_helper = new THREE.DirectionalLightHelper(light_dir, 10);\r\n                scene.add(light_dir_helper);\r\n            }\r\n        }\r\n\r\n    },\r\n    setupHelpers: function(options) {\r\n        var defaults = {\r\n            gridHelper: {\r\n                enable: false,\r\n                size : 100,\r\n                divisions : 100,\r\n                colorCenterLine : 0x0000ff,\r\n                colorGrid : 0x808080\r\n            }\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n\r\n        if (settings.gridHelper.enable) {\r\n            const gridHelper = new THREE.GridHelper( \r\n                settings.gridHelper.size ,  \r\n                settings.gridHelper.divisions ,  \r\n                settings.gridHelper.colorCenterLine ,  \r\n                settings.gridHelper.colorGrid ,  \r\n            );\r\n            scene.add( gridHelper );\r\n        }\r\n        // const polarGridHelper = new THREE.PolarGridHelper( 100, 100, 8, 64, 0x0000ff, 0x808080 );\r\n        // scene.add( polarGridHelper );\r\n    },\r\n\r\n    //--- \r\n\r\n    setupEnvironment: function (options) {\r\n        var defaults = {\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n        web3d.setupScene();\r\n        web3d.setupCamera();\r\n        web3d.setupRenderer();\r\n        web3d.setupControls();\r\n        web3d.setupLights();\r\n    },\r\n    setupPostRender: function (options) {\r\n        var defaults = {\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n\r\n        // re-render\r\n        web3d.animate(renderer, scene, camera);\r\n        controls.addEventListener('change', function () {\r\n            web3d.render();\r\n            if (web3d.debug) {\r\n                console.log(camera.position);\r\n            }\r\n        });\r\n        // camera.position.set( 0, 20, 100 );\r\n        controls.update();\r\n    },\r\n    genMetadata: function (options) {\r\n        var defaults = {\r\n            head: \"\",\r\n            body: \"\",\r\n            asset: \"\"\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n\r\n        metadata.dna = Date.now();\r\n        metadata.date = new Date().toLocaleString();\r\n        metadata.attributes = [];\r\n        metadata.attributes.push(\r\n            {\r\n                trait_type: \"Body\",\r\n                value: settings.body\r\n            },\r\n            {\r\n                trait_type: \"Head\",\r\n                value: settings.head\r\n            },\r\n            {\r\n                trait_type: \"Asset\",\r\n                value: settings.asset\r\n            }\r\n        );\r\n\r\n        if ($(\"#metadata\").length > 0) {\r\n\r\n            var parseMetadata = JSON.stringify(metadata, null, 2);\r\n            $(\"#metadata\").html(parseMetadata);\r\n        }\r\n    },\r\n    setupModel: function (data, options) {\r\n        const model = data.scene.children[0];\r\n        return model;\r\n    },\r\n    \r\n    //---\r\n\r\n\r\n    initThickness: async function (options) {\r\n        const loader = new THREE.TextureLoader();\r\n        const imgTexture = loader.load( 'models/fbx/white.jpg' );\r\n        const thicknessTexture = loader.load( 'assets/Tex//SMT1_SHD_Thickness.png' );\r\n        imgTexture.wrapS = imgTexture.wrapT = THREE.RepeatWrapping;\r\n\r\n        const shader = SubsurfaceScatteringShader;\r\n        const uniforms = THREE.UniformsUtils.clone( shader.uniforms );\r\n\r\n        uniforms[ 'map' ].value = imgTexture;\r\n\r\n        uniforms[ 'diffuse' ].value = new THREE.Vector3( 1.0, 0.2, 0.2 );\r\n        uniforms[ 'shininess' ].value = 500;\r\n\r\n        uniforms[ 'thicknessMap' ].value = thicknessTexture;\r\n        uniforms[ 'thicknessColor' ].value = new THREE.Vector3( 0.5, 0.3, 0.0 );\r\n        uniforms[ 'thicknessDistortion' ].value = 0.1;\r\n        uniforms[ 'thicknessAmbient' ].value = 0.4;\r\n        uniforms[ 'thicknessAttenuation' ].value = 0.8;\r\n        uniforms[ 'thicknessPower' ].value = 2.0;\r\n        uniforms[ 'thicknessScale' ].value = 16.0;\r\n\r\n        const material = new THREE.ShaderMaterial( {\r\n            uniforms: uniforms,\r\n            vertexShader: shader.vertexShader,\r\n            fragmentShader: shader.fragmentShader,\r\n            lights: true\r\n        } );\r\n        material.extensions.derivatives = true;\r\n\r\n        // LOADER\r\n\r\n        const loaderFBX = new FBXLoader();\r\n        loaderFBX.load( 'models/fbx/stanford-bunny.fbx', function ( object ) {\r\n\r\n            model = object.children[ 0 ];\r\n            model.position.set( 0, 0, 10 );\r\n            model.scale.setScalar( 1 );\r\n            model.material = material;\r\n            scene.add( model );\r\n\r\n        } );\r\n    },\r\n\r\n    \r\n    loadObj3d: async function (options) {\r\n        var defaults = {\r\n            //loadObj3d(json) \r\n            smt_01: {\r\n                model: \"assets/smt_01/model3.glb\",\r\n                dir_texture: \"assets/Tex/\",\r\n                skin_texture: {\r\n                    base_color: \"SMT1_Skin_SHD_BaseColor.png\",\r\n                    metallic: \"SMT1_Skin_SHD_Metallic.png\",\r\n                    normal: \"SMT1_Skin_SHD_Normal.png\",\r\n                    roughness: \"SMT1_Skin_SHD_Roughness.png\",\r\n                    ambient_occlusion: \"SMT1_Skin_SHD_AmbientOcclusion.png\",\r\n                    thickness: \"SMT1_SHD_Thickness.png\"\r\n                },\r\n                outfit_texture: {\r\n                    base_color: \"SMT1_SHD_BaseColor.png\",\r\n                    metallic: \"SMT1_SHD_Metallic.png\",\r\n                    normal: \"SMT1_SHD_Normal.png\",\r\n                    roughness: \"SMT1_SHD_Roughness.png\",\r\n                    ambient_occlusion: \"SMT1_SHD_AmbientOcclusion.png\",\r\n                    emissive: \"SMT1_SHD_Emissive.png\"\r\n                }\r\n            }\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n\r\n        const glbLoader = new GLTFLoader();\r\n\r\n        $(web3d.el.renderer.addClass(\"loading\"));\r\n        obj3d.cleanUp(scene, camera);\r\n        [data_smt_01] = await Promise.all([\r\n            glbLoader.loadAsync(settings.smt_01.model)\r\n        ]);\r\n\r\n        obj_smt_01 = web3d.setupModel(data_smt_01);\r\n        scene.add(obj_smt_01);\r\n        \r\n\r\n        obj_smt_01.receiveShadow = true;\r\n        obj_smt_01.castShadow = true;\r\n\r\n        // const material = new THREE.MeshLambertMaterial( { color: 0x50c5e6 , depthWrite: false } );\t\t\t\t\r\n\r\n        // var obj2 = new THREE.Mesh(obj_smt_01, material);\r\n        // obj_smt_01.material = material;\r\n        obj_smt_01.scale.set(.08, .08, .08);\r\n\r\n        const skin_texture = {\r\n            map: new THREE.TextureLoader().load(settings.smt_01.dir_texture + settings.smt_01.skin_texture.base_color),\r\n            metalnessMap: new THREE.TextureLoader().load(settings.smt_01.dir_texture + settings.smt_01.skin_texture.metallic),\r\n            normalMap: new THREE.TextureLoader().load(settings.smt_01.dir_texture + settings.smt_01.skin_texture.normal),\r\n            roughnessMap: new THREE.TextureLoader().load(settings.smt_01.dir_texture + settings.smt_01.skin_texture.roughness),\r\n            aoMap: new THREE.TextureLoader().load(settings.smt_01.dir_texture + settings.smt_01.skin_texture.ambient_occlusion),\r\n        }\r\n        const outfit_texture = {\r\n            map: new THREE.TextureLoader().load(settings.smt_01.dir_texture + settings.smt_01.outfit_texture.base_color),\r\n            metalnessMap: new THREE.TextureLoader().load(settings.smt_01.dir_texture + settings.smt_01.outfit_texture.metallic),\r\n            normalMap: new THREE.TextureLoader().load(settings.smt_01.dir_texture + settings.smt_01.outfit_texture.normal),\r\n            roughnessMap: new THREE.TextureLoader().load(settings.smt_01.dir_texture + settings.smt_01.outfit_texture.roughness),\r\n            aoMap: new THREE.TextureLoader().load(settings.smt_01.dir_texture + settings.smt_01.outfit_texture.ambient_occlusion),\r\n            emissiveMap: new THREE.TextureLoader().load(settings.smt_01.dir_texture + settings.smt_01.outfit_texture.emissive) \r\n        }\r\n\r\n        var skinTexture = new THREE.MeshStandardMaterial({\r\n            ...skin_texture,\r\n            // aoMap: null,\r\n            aoMapIntensity: .1,\r\n        });\r\n        var outfitTexture = new THREE.MeshStandardMaterial({\r\n            ...outfit_texture,\r\n            // aoMap: null,\r\n            aoMapIntensity: .1,\r\n            emissiveIntensity: 2,\r\n            normalScale: new THREE.Vector2(3, 3)\r\n        });\r\n\r\n        var hairTexture = new THREE.MeshStandardMaterial({\r\n            ...outfit_texture,\r\n            aoMap: null,\r\n            aoMapIntensity: .1,\r\n            emissiveIntensity: 2,\r\n            normalScale: new THREE.Vector2(1, 1)\r\n        });\r\n\r\n        console.log(obj_smt_01);\r\n\r\n        obj_smt_01.traverse((o) => {\r\n\r\n            if (o.isMesh) {\r\n                o.castShadow = true;\r\n                o.receiveShadow = true;\r\n            }\r\n\r\n            if (o.isMesh && [\"mesh_6\", \"mesh_7\", \"mesh_8\"].indexOf(o.name) > -1) {\r\n                // skin                \r\n                o.material = skinTexture;\r\n                // o.material = textures.map(texture => (new THREE.TextureLoader().load(texture)));\r\n            }\r\n            else if (o.isMesh) {\r\n                // outfit\r\n                o.material = outfitTexture;\r\n                // o.material = textures.map(texture => (new THREE.TextureLoader().load(texture)));\r\n            } \r\n\r\n            if (o.isMesh && o.name == \"mesh_3\") {\r\n                o.material = hairTexture;\r\n            }\r\n\r\n            // else if (o.children.length > 0) {\r\n            //     // in the group (?)\r\n            //     o.traverse((ochild) => {\r\n\r\n            //         console.log(ochild);\r\n                    \r\n            //         if (ochild.isMesh) {\r\n            //             ochild.castShadow = true;\r\n            //             ochild.receiveShadow = true;\r\n            //         }\r\n            //         if (ochild.isMesh && [\"mesh_6\", \"mesh_7\", \"mesh_8\"].indexOf(ochild.name) > -1) {\r\n            //             ochild.material = outfitTexture;\r\n            //         }\r\n            //     })\r\n            // }\r\n        });\r\n\r\n        $(web3d.el.renderer.removeClass(\"loading\"));\r\n        renderer.shadowMap.enabled = true;\r\n        renderer.shadowMap.type = THREE.VSMShadowMap;\r\n\r\n\r\n        // console.log(obj_asset3);\r\n        web3d.genMetadata(settings);\r\n\r\n    },\r\n    loadFbx: async function (options) {\r\n        var defaults = {\r\n            smt_01: {\r\n                model: \"assets/smt_01/model.fbx\",\r\n                dir_texture: \"assets/Tex/\",\r\n                skin_texture: {\r\n                    base_color: \"SMT1_Skin_SHD_BaseColor.png\",\r\n                    metallic: \"SMT1_Skin_SHD_Metallic.png\",\r\n                    normal: \"SMT1_Skin_SHD_Normal.png\",\r\n                    roughness: \"SMT1_Skin_SHD_Roughness.png\",\r\n                    ambient_occlusion: \"SMT1_Skin_SHD_AmbientOcclusion.png\"\r\n                },\r\n                outfit_texture: {\r\n                    base_color: \"SMT1_SHD_BaseColor.png\",\r\n                    metallic: \"SMT1_SHD_Metallic.png\",\r\n                    normal: \"SMT1_SHD_Normal.png\",\r\n                    roughness: \"SMT1_SHD_Roughness.png\",\r\n                    ambient_occlusion: \"SMT1_SHD_AmbientOcclusion.png\",\r\n                    emissive: \"SMT1_SHD_Emissive.png\"\r\n                }\r\n            }\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n\r\n        const fbxLoader = new FBXLoader();\r\n        var data_fbx, obj_fbx;\r\n\r\n        $(web3d.el.renderer.addClass(\"loading\"));\r\n        obj3d.cleanUp(scene, camera);\r\n        [obj_fbx] = await Promise.all([\r\n            fbxLoader.loadAsync(settings.smt_01.model)\r\n        ]);\r\n        \r\n        const skin_texture = {\r\n            map: new THREE.TextureLoader().load(settings.smt_01.dir_texture + settings.smt_01.skin_texture.base_color),\r\n            metalnessMap: new THREE.TextureLoader().load(settings.smt_01.dir_texture + settings.smt_01.skin_texture.metallic),\r\n            normalMap: new THREE.TextureLoader().load(settings.smt_01.dir_texture + settings.smt_01.skin_texture.normal),\r\n            roughnessMap: new THREE.TextureLoader().load(settings.smt_01.dir_texture + settings.smt_01.skin_texture.roughness),\r\n            aoMap: new THREE.TextureLoader().load(settings.smt_01.dir_texture + settings.smt_01.skin_texture.ambient_occlusion),\r\n        }\r\n        const outfit_texture = {\r\n            map: new THREE.TextureLoader().load(settings.smt_01.dir_texture + settings.smt_01.outfit_texture.base_color),\r\n            metalnessMap: new THREE.TextureLoader().load(settings.smt_01.dir_texture + settings.smt_01.outfit_texture.metallic),\r\n            normalMap: new THREE.TextureLoader().load(settings.smt_01.dir_texture + settings.smt_01.outfit_texture.normal),\r\n            roughnessMap: new THREE.TextureLoader().load(settings.smt_01.dir_texture + settings.smt_01.outfit_texture.roughness),\r\n            aoMap: new THREE.TextureLoader().load(settings.smt_01.dir_texture + settings.smt_01.outfit_texture.ambient_occlusion),\r\n            emissiveMap: new THREE.TextureLoader().load(settings.smt_01.dir_texture + settings.smt_01.outfit_texture.emissive) \r\n        }\r\n\r\n        \r\n        mixer = new THREE.AnimationMixer( obj_fbx );\r\n        const action = mixer.clipAction( obj_fbx.animations[ 0 ] );\r\n        action.play();\r\n\r\n\r\n        obj_fbx.scale.set(.1, .1, .1);\r\n        scene.add(obj_fbx);\r\n        \r\n\r\n        obj_fbx.receiveShadow = true;\r\n        obj_fbx.castShadow = true;\r\n\r\n\r\n        \r\n        var skinTexture = new THREE.MeshStandardMaterial({\r\n            ...skin_texture,\r\n            // aoMap: null,\r\n            aoMapIntensity: .1,\r\n        });\r\n        var outfitTexture = new THREE.MeshStandardMaterial({\r\n            ...outfit_texture,\r\n            // aoMap: null,\r\n            aoMapIntensity: .1,\r\n            emissiveIntensity: 2,\r\n            normalScale: new THREE.Vector2(1.5, 1.5)\r\n        });\r\n        var teethTexture = new THREE.MeshStandardMaterial({\r\n            ...outfit_texture,\r\n            // aoMap: null,\r\n            aoMapIntensity: .1,\r\n            emissiveIntensity: 2,\r\n            normalScale: new THREE.Vector2(1.5, 1.5),\r\n            roughness: 3\r\n        });\r\n\r\n        var hairTexture = new THREE.MeshStandardMaterial({\r\n            ...outfit_texture,\r\n            aoMap: null,\r\n            aoMapIntensity: .1,\r\n            normalScale: new THREE.Vector2(-1, -1)\r\n        });\r\n\r\n        console.log(obj_smt_01);\r\n\r\n        obj_fbx.traverse((o) => {\r\n\r\n            if (o.isMesh) {\r\n                o.castShadow = true;\r\n                o.receiveShadow = true;\r\n            }\r\n\r\n            if (o.isMesh && [\"mesh_6\", \"mesh_7\", \"mesh_8\", \"neck_low\", \"hand_low\", \"Face_low\"].indexOf(o.name) > -1) {\r\n                // skin                \r\n                o.material = skinTexture;\r\n            }\r\n            else if (o.isMesh) {\r\n                // outfit\r\n                o.material = outfitTexture;\r\n            } \r\n\r\n            if (o.isMesh && [\"mesh_3\", \"Hair_low\"].indexOf( o.name ) > -1) {\r\n                o.material = hairTexture;\r\n            }\r\n\r\n            if (o.isMesh && o.name == \"Teeth_low\") {\r\n                o.material = teethTexture;\r\n            }\r\n        });\r\n\r\n        $(web3d.el.renderer.removeClass(\"loading\"));\r\n\r\n        renderer.shadowMap.enabled = true;\r\n        renderer.shadowMap.type = THREE.VSMShadowMap;\r\n\r\n        console.log(obj_fbx);\r\n\r\n    },\r\n\r\n    loadBg: async function (options) {\r\n        var defaults = {\r\n            bg: \"assets/bg-sphere.glb\",\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n        const glbLoader = new GLTFLoader();\r\n        [data_bg] = await Promise.all([\r\n            glbLoader.loadAsync(settings.bg)\r\n        ]);\r\n\r\n        obj_bg = web3d.setupModel(data_bg);\r\n        scene.add(obj_bg);\r\n\r\n        obj_bg.receiveShadow = false;\r\n        obj_bg.castShadow = false;\r\n\r\n        obj_bg.scale.set(10, 10, 10);\r\n        obj_bg.position.set(0, 5, 0);\r\n        obj_bg.material = new THREE.MeshBasicMaterial({\r\n            // color: 0x593b00,\r\n            color: 0xffca4f\r\n            // lightMapIntensity: 1\r\n        });\r\n\r\n        // const box_helper = new THREE.BoxHelper( obj_bg, 0xffff00 );\r\n        // scene.add(box_helper);\r\n\r\n        console.log(obj_bg);\r\n    },\r\n    loadText: async function (options) {\r\n        var defaults = {\r\n            text: \"assets/text.glb\",\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n        const glbLoader = new GLTFLoader();\r\n        [data_text] = await Promise.all([\r\n            glbLoader.loadAsync(settings.text)\r\n        ]);\r\n\r\n        obj_text = web3d.setupModel(data_text);\r\n\r\n        obj_text.receiveShadow = false;\r\n        obj_text.castShadow = true;\r\n\r\n        obj_text.scale.set(.06, .06, .06);\r\n        // obj_text.position.set(1, 0, 2);\r\n        obj_text.position.set(0, 0, 0);\r\n        obj_text.material = new THREE.MeshLambertMaterial({\r\n            emissive: 0x593b00,\r\n            emissiveIntensity: .3\r\n        });\r\n        obj_text.name = \"Bubble Text\";\r\n\r\n\r\n        // const box_helper = new THREE.BoxHelper( obj_bg, 0xffff00 );\r\n        // scene.add(box_helper);\r\n\r\n        console.log(obj_text);\r\n        scene.add(obj_text);\r\n    },\r\n    loadBubble: function(options) {\r\n        var defaults = {\r\n        }\r\n        var settings = $.extend(defaults, options);\r\n\r\n        const geometry = new THREE.BoxGeometry( 1.4, .8, .1 );\r\n        const material = new THREE.MeshLambertMaterial({\r\n            emissive: 0xffffff,\r\n            emissiveIntensity: 1\r\n        });\r\n\r\n        obj_bubble = new THREE.Mesh(geometry, material);\r\n        obj_bubble.receiveShadow = true;\r\n        obj_bubble.castShadow = true;\r\n        obj_bubble.name = \"Bubble\";\r\n\r\n        obj_bubble.position.set(-3, 5, 0);\r\n\r\n        console.log(obj_bubble);\r\n        scene.add(obj_bubble);\r\n    },\r\n    lookAtObj: function(options) {\r\n        var defaults = {\r\n            obj_to_lookat: obj_text \r\n        }\r\n        var settings = $.extend(defaults, options);\r\n\r\n        // const spherical = new THREE.Spherical();\r\n        // const rotationMatrix = new THREE.Matrix4();\r\n        // const targetQuaternion = new THREE.Quaternion();\r\n\r\n        // if ( ! mesh.quaternion.equals( targetQuaternion ) ) {\r\n\r\n        //     const step = speed * delta;\r\n        //     mesh.quaternion.rotateTowards( targetQuaternion, step );\r\n\r\n        // }\r\n\r\n        settings.obj_to_lookat.lookAt(camera.position);\r\n\r\n    },\r\n\r\n\r\n    //---\r\n    init: function () {\r\n        web3d.setupEnvironment();\r\n\r\n        web3d.loadBg();\r\n        // web3d.loadText(); \r\n        // web3d.loadBubble();\r\n        // obj_ground = obj3d.addGround(scene, camera);\r\n        // obj_room = obj3d.addRoom(scene, camera);\r\n        // obj3d.addBoxes(scene, camera);\r\n\r\n        web3d.setupHelpers();\r\n \r\n        web3d.setupPostRender();\r\n    },\r\n    render: function () {\r\n        renderer.render(scene, camera);\r\n    },\r\n    animate: function () {\r\n        requestAnimationFrame( web3d.animate );\r\n        const delta = clock.getDelta();\r\n\r\n        if (obj_text) {\r\n            web3d.lookAtObj();\r\n        }\r\n        if ( mixer ) mixer.update( delta );\r\n\r\n        web3d.callback();\r\n        web3d.render();\r\n    },\r\n    // Get\r\n    callback: () => {}\r\n}\r\n\r\ndebug = {\r\n    freeCamera: () => {\r\n        controls.minDistance = 0;\r\n        controls.maxDistance = Infinity;\r\n        controls.zoomSpeed = 1;\r\n        controls.rotateSpeed = 1;\r\n        controls.enableDamping = false;\r\n        controls.enablePan = true;\r\n        controls.autoRotate = true;\r\n        controls.autoRotateSpeed = 1;\r\n        controls.maxPolarAngle = Math.PI;\r\n    },\r\n    getCamera: () => camera,\r\n    getControls: () => controls,\r\n    getObject: (obj_name) => {\r\n        switch (obj_name) {\r\n            case 'smt_01': return obj_smt_01;\r\n            case 'obj_bubble': return obj_bubble;\r\n            case 'obj_text': return obj_text;\r\n            case 'light_hemi': return light_hemi;\r\n            case 'light_dir': return light_dir;\r\n            case 'light_key': return light_key;\r\n            case 'light_fill': return light_fill;\r\n            case 'light_back': return light_back;\r\n            case 'light_top': return light_top;\r\n            case 'light_bottom': return light_bottom;\r\n        }\r\n    },\r\n    watch: (object_to_watch) => {\r\n        web3d.callback = function() {\r\n            console.log(object_to_watch);\r\n        }\r\n        return \"[ debug watch started ]\"\r\n    },\r\n    endWatch: () => {\r\n        web3d.callback = function() {\r\n        }\r\n        return \"[ debug watch ended ]\"\r\n    }\r\n} \r\n\r\nexport {web3d, debug};","import config from \"../../setup/config\";\r\nimport bootstrap from 'bootstrap';\r\nimport {web3d, debug} from \"./_web3d\";\r\n\r\n\r\nwindow.debug = debug;\r\n\r\n\r\n$(function () {\r\n    web3d.init();\r\n\r\n    // debug.freeCamera();\r\n});\r\n\r\nwindow.addEventListener(\"load\", function(){\r\n    var url = new URL(window.location.href);\r\n    var param_type = url.searchParams.get(\"type\");\r\n\r\n    switch (param_type) {\r\n        case \"fbx\":\r\n            web3d.loadFbx();\r\n            break;\r\n        case \"glb\": \r\n        default: \r\n            web3d.loadObj3d();\r\n            break;\r\n    }\r\n});\r\n\r\n","import * as THREE from 'three';\r\n\r\nvar helper = {\r\n    create_light: {\r\n        environment_light: function (options) {\r\n            var defaults = {\r\n                enable: true,\r\n                options: {\r\n                    dir: \"assets/hdr/\",\r\n                    hdri_file: \"provence_studio_1k_edit.hdr\",\r\n                    enable_background: false,\r\n                }\r\n            }\r\n            var settings = $.extend(defaults, options);\r\n        },\r\n        point_light: function (options) {\r\n            var defaults = {\r\n                enable: true,\r\n                helper: false,\r\n                options: {\r\n                    debug_color: 0xff0000,\r\n                    color: 0xffffff,\r\n                    decay: 1,\r\n                    distance: 100,\r\n                    intensity: .6,\r\n                    physically_correct: 0.0,\r\n                    power: 0.0,\r\n                    shadow_bias: - 0.01,\r\n                    map_size_width: 1000, \r\n                    map_size_height: 2000, \r\n                    camera_near: 0.5,\r\n                    camera_far: 500,\r\n                    position: {\r\n                        x: 4, y: 4, z: 4\r\n                    }\r\n                }\r\n            }\r\n            var settings = $.extend(defaults, options);\r\n\r\n            var sphere_light = new THREE.SphereGeometry(0.2, 32, 32);\r\n\r\n            if (settings.options) {\r\n                var obj_light = new THREE.PointLight(\r\n                    settings.options.color, \r\n                    settings.options.intensity, \r\n                    settings.options.distance,\r\n                    settings.options.decay,\r\n                    settings.options.physically_correct,\r\n                );\r\n                if (settings.helper) {\r\n                    obj_light.add(new THREE.Mesh(\r\n                        sphere_light, \r\n                        new THREE.MeshBasicMaterial({ color: settings.options.debug_color })\r\n                    ));\r\n                }\r\n                obj_light.castShadow = true;\r\n                obj_light.shadow.bias = settings.options.shadow_bias;\r\n                obj_light.position.set(\r\n                    settings.options.position.x, \r\n                    settings.options.position.y, \r\n                    settings.options.position.z, \r\n                );\r\n    \r\n                return obj_light\r\n            }\r\n\r\n        },\r\n        dir_light: function (options) {\r\n            var defaults = {\r\n                enable: true,\r\n                helper: false,\r\n                options: {\r\n                    debug_color: 0xff0000,\r\n                    color: 0xffffff,\r\n                    decay: 1,\r\n                    distance: 100,\r\n                    intensity: .6,\r\n                    physically_correct: 0.0,\r\n                    power: 0.0,\r\n                    shadow_bias: - 0.01,\r\n                    map_size_width: 1000, \r\n                    map_size_height: 2000, \r\n                    camera_near: 0.5,\r\n                    camera_far: 500,\r\n                    position: {\r\n                        x: 4, y: 4, z: 4\r\n                    }\r\n                }\r\n            }\r\n            var settings = $.extend(defaults, options);\r\n\r\n\r\n            if (settings.enable) {\r\n                light_dir = new THREE.DirectionalLight(0xffffff, .8);\r\n                light_dir.color.setHSL(0.1, 1, 0.95);\r\n                light_dir.position.set(- 1, 1.75, 1);\r\n                light_dir.position.multiplyScalar(100);\r\n                if (settings.light_dir) {\r\n                    scene.add(light_dir);\r\n                }\r\n\r\n                light_dir.castShadow = true;\r\n\r\n                light_dir.shadow.mapSize.width = 2048;\r\n                light_dir.shadow.mapSize.height = 2048;\r\n\r\n                const d = 50;\r\n\r\n                light_dir.shadow.camera.left = - d;\r\n                light_dir.shadow.camera.right = d;\r\n                light_dir.shadow.camera.top = d;\r\n                light_dir.shadow.camera.bottom = - d;\r\n\r\n                light_dir.shadow.camera.far = 3500;\r\n                light_dir.shadow.bias = - 0.0001;\r\n\r\n                if (settings.light_dir && web3d.helper) {\r\n                    const light_dir_helper = new THREE.DirectionalLightHelper(light_dir, 10);\r\n                    scene.add(light_dir_helper);\r\n                }\r\n            }\r\n\r\n        },\r\n        spot_light: function (options) {\r\n            var defaults = {\r\n                enable: true,\r\n                helper: false,\r\n                options: {\r\n                    debug_color: 0xff0000,\r\n                    color: 0xffffff,\r\n                    decay: 1,\r\n                    distance: 0,\r\n                    intensity: .6,\r\n                    angle: Math.PI/ 3,\r\n                    penumbra: 0,\r\n                    cast_shadow: true,\r\n                    shadow_map_size_width: 512,\r\n                    shadow_map_size_height: 512,\r\n                    shadow_camera_near: 10,\r\n                    shadow_camera_far: 200,\r\n                    shadow_focus: 1,\r\n                    position: {\r\n                        x: 4, y: 4, z: 4\r\n                    },\r\n                    target: {\r\n                        x: 4, y: 4, z: 4\r\n                    }\r\n                }\r\n            }\r\n            var settings = $.extend(defaults, options);\r\n            \r\n            if (settings.enable) {\r\n                var obj_light = new THREE.SpotLight( \r\n                    settings.options.color,  \r\n                    settings.options.intensity, \r\n                    settings.options.distance, \r\n                    settings.options.angle, \r\n                    settings.options.penumbra,  \r\n                    settings.options.decay\r\n                );\r\n\r\n                obj_light.position.set(\r\n                    settings.options.position.x, \r\n                    settings.options.position.y, \r\n                    settings.options.position.z, \r\n                );\r\n                \r\n                obj_light.angle = settings.options.angle;\r\n                obj_light.penumbra = settings.options.penumbra;\r\n                obj_light.decay = settings.options.decay;\r\n                obj_light.distance = settings.options.distance;\r\n    \r\n                obj_light.castShadow = settings.options.cast_shadow;\r\n                obj_light.shadow.mapSize.width = settings.options.shadow_map_size_width;\r\n                obj_light.shadow.mapSize.height = settings.options.shadow_map_size_height;\r\n                obj_light.shadow.camera.near = settings.options.shadow_camera_near;\r\n                obj_light.shadow.camera.far = settings.options.shadow_camera_far;\r\n                obj_light.shadow.focus = settings.options.shadow_focus;\r\n\r\n                obj_light.receiveShadow = true;\r\n                obj_light.castShadow = true;\r\n\r\n                obj_light.target.position.set(\r\n                    settings.options.target.x, \r\n                    settings.options.target.y, \r\n                    settings.options.target.z\r\n                )\r\n\r\n                // obj_light.target.x =  settings.options.target.x; \r\n                // obj_light.target.y =  settings.options.target.y; \r\n                // obj_light.target.z =  settings.options.target.z; \r\n                //     settings.options.target.y, \r\n                //     settings.options.target.z, \r\n                // ;\r\n\r\n                console.log(obj_light);\r\n                \r\n                if (settings.helper) {\r\n                    var lightHelper = new THREE.SpotLightHelper( obj_light );\r\n                    var shadowCameraHelper = new THREE.CameraHelper( obj_light.shadow.camera );\r\n                    obj_light.add(lightHelper);\r\n                    obj_light.add(shadowCameraHelper);\r\n                }\r\n\r\n                return obj_light;\r\n    \r\n            }\r\n\r\n\r\n\r\n        }\r\n    }\r\n}\r\n\r\nexport default helper;","import * as THREE from 'three';\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\r\n\r\nvar obj3d;\r\n\r\nvar meshs = [];\r\n\r\nobj3d = { \r\n    cleanUp: function(scene, camera) {\r\n        if (typeof obj != \"undefined\")\r\n        for( var i = scene.children.length - 1; i >= 0; i--) { \r\n            var obj = scene.children[i];\r\n\r\n            if ([\"obj3d_body\", \"obj3d_head\", \"obj3d_asset\"].indexOf(obj.name) > -1) {\r\n                scene.remove(obj); \r\n            }\r\n\r\n       }\r\n    },\r\n    addGround: function(scene, camera){\r\n        const geometry = new THREE.PlaneGeometry( 100, 100 );\r\n        const material = new THREE.MeshPhongMaterial( { color: 0x00ff00, depthWrite: false } );\t\t\t\t\r\n        \r\n        material.color.setHSL( 0.095, 1, 0.75 );\r\n\r\n        const mesh = new THREE.Mesh( geometry, material );\r\n\r\n        mesh.rotation.x = - Math.PI / 2;\r\n        mesh.receiveShadow = true;\r\n        scene.add( mesh );\r\n\r\n        meshs.push(mesh);\r\n\r\n        return mesh;\r\n    },\r\n    addRoom: function(scene, camera) {\r\n        const geometry = new THREE.SphereGeometry( 30, 32, 32 );\r\n        const material = new THREE.MeshLambertMaterial( { color: 0x50c5e6 , depthWrite: false } );\t\t\t\t\r\n\r\n        const roomMesh = new THREE.Mesh(geometry, material);\r\n        roomMesh.material.side = THREE.BackSide;\r\n\r\n        roomMesh.castShadow = true;\r\n        roomMesh.receiveShadow = true;\r\n\r\n        scene.add(roomMesh);\r\n        meshs.push(roomMesh);\r\n\r\n        return roomMesh;\r\n\r\n\r\n    },\r\n    loadModel: async function(scene, camera, path_to_model, name){\r\n        \r\n\r\n        var model;\r\n        const loader = new GLTFLoader();\r\n\r\n        return new Promise((resolve, reject) => {\r\n            loader.load( path_to_model, function ( gltf ) {\r\n\r\n                // console.log(gltf.scene);\r\n    \r\n                model = gltf.scene;\r\n    \r\n                model.name = name;\r\n                if (model.isMesh) {\r\n                    model.castShadow = true;\r\n                    model.receiveShadow = true;\r\n                }\r\n    \r\n                var shadowJob = function(arrModel, isGoUp){\r\n                    arrModel.forEach(childModel => {\r\n                        // console.log(childLvl, childModel.name);\r\n                        if (childModel.children.length > 0 && !isGoUp) {\r\n                            shadowJob(childModel.children, false);\r\n                        }\r\n                        if (childModel.parent != null) {\r\n                            shadowJob([childModel.parent], true);\r\n                        }\r\n                        childModel.castShadow = true;\r\n                        childModel.receiveShadow = true;\r\n                        childModel.traverse(function (object) {\r\n                            if (object.isMesh) {\r\n                                // console.log(\"---->\" + object.name);\r\n                                // console.log(object.isMesh, object);\r\n                                object.castShadow = true;\r\n                                object.receiveShadow = true;\r\n                            } else {\r\n                                // console.log(\"st wrong again!\");\r\n                            }\r\n                        });\r\n                        console.log(childModel);\r\n                    });\r\n                    \r\n                };\r\n\r\n                shadowJob([model], false);\r\n\r\n                // if (model.isMesh) {\r\n                //     model.castShadow = true;\r\n                //     model.receiveShadow = true;\r\n                // } else {\r\n                //     model.traverse( function ( object ) {\r\n                //         if ( object.isMesh ) {\r\n                //             console.log(\"----\")\r\n                //             console.log(object.isMesh, object);\r\n                //             object.castShadow = true;\r\n                //             object.receiveShadow = true;\r\n                //         } else {\r\n                //             if (object.children.length > 0) {\r\n                //                 object.children.forEach(childMesh => {\r\n                //                     console.log(\"----\")\r\n                //                     console.log(childMesh.isMesh, childMesh);\r\n                //                     childMesh.castShadow = true;\r\n                //                     childMesh.receiveShadow = true;\r\n                //                 })\r\n                //             }\r\n                //         };\r\n                //     } );\r\n\r\n                // }\r\n    \r\n                model.position.set(0 , 0, 0);\r\n    \r\n                meshs.push(model);\r\n                scene.add( model );\r\n                // console.log(\"load obj\");\r\n                resolve(\"loaded obj\");\r\n            \r\n            }, undefined, function ( error ) {\r\n            \r\n                console.error( error );\r\n\r\n                reject(error);\r\n            \r\n            } );\r\n        });\r\n\r\n        \r\n\r\n\r\n\r\n\r\n    },\r\n    addBoxes: function(scene, camera) {\r\n        const geometry_1 = new THREE.SphereGeometry(.2, 32, 32);\r\n        const geometry_2 = new THREE.SphereGeometry(.6, 32, 32);\r\n        const material = new THREE.MeshLambertMaterial({\r\n            color: 0xffffff\r\n        });\r\n\r\n        const boxMesh_1 = new THREE.Mesh(geometry_1, material);\r\n        boxMesh_1.castShadow = true;\r\n        boxMesh_1.receiveShadow = true;\r\n        boxMesh_1.position.set(0, 2, 2);\r\n\r\n        const boxMesh_2 = new THREE.Mesh(geometry_1, material);\r\n        boxMesh_2.castShadow = true;\r\n        boxMesh_2.receiveShadow = true;\r\n        boxMesh_2.position.set(0, 2, -2);  \r\n\r\n        // const lightSphere = new THREE.SphereGeometry(0.06, 32, 32);\r\n        // const testLight = new THREE.PointLight(0xffffff, .5, 20);\r\n        // testLight.add(new THREE.Mesh(lightSphere, new THREE.MeshBasicMaterial({ color: 0xffffff })));\r\n        // testLight.castShadow = true;\r\n        // testLight.shadow.bias = - 0.005;\r\n        // testLight.position.set(0, 2, 3)\r\n\r\n        scene.add(boxMesh_1);\r\n        scene.add(boxMesh_2);\r\n        // scene.add(testLight);\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default obj3d;","// extracted by mini-css-extract-plugin\nexport {};","var config = {\r\n    widthTriggerScale: 9999,\r\n    widthDesktopSafe: 1620,\r\n    widthDesktop: 2000,\r\n    widthMobile: 768,\r\n    heightDesktop: 1000,\r\n    heightMobile: 1000,\r\n    func: {\r\n        isMobile: function(){\r\n            var device = {\r\n                width: $(window).innerWidth(),\r\n                height: $(window).innerHeight()\r\n            };\r\n\r\n            return ((device.width <= config.widthMobile) || (device.width < device.height));\r\n        }\r\n    }\r\n}\r\n\r\nexport default config;"],"sourceRoot":""}